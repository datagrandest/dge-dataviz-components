{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Des composants web de dataviz faciles \u00e0 mettre en oeuvre","text":""},{"location":"index.html#dge-dataviz-components-est-un-ensemble-de-composants-web-pour-faciliter-la-construction-de-tableaux-de-bords-simples-mais-efficaces-a-partir-de-sources-donnees-diverses","title":"\"DGE Dataviz Components\" est un ensemble de composants web pour faciliter la construction de tableaux de bords simples mais efficaces \u00e0 partir de sources donn\u00e9es diverses.","text":"<p>Profil utilisateur</p> <p>Il est pr\u00e9f\u00e9rable d'avoir des notions en HTML, voire CSS et Javascript. Quelques connaissances en gestion de donn\u00e9es et SQL peuvent \u00e9galement \u00eatre int\u00e9ressantes m\u00eame si elles ne sont pas indispensables. La mise en oeuvre de tels composants sera facilit\u00e9 si vous \u00eates par exemple webmasters, administrateur de site internet, d\u00e9veloppeur web, datascientists, etc. </p> <p>Dans le cas contraire, ne fuyez pas tout de suite! La prise en mains de \"DGE Dataviz Components\" est relativement simple et peut se faire assez rapidement si vous \u00eates attentif et motiv\u00e9.</p> <p> Lire la documentation  Voir les exemples</p>"},{"location":"index.html#les-composants-web-disponibles","title":"Les composants web disponibles","text":"<p>Actuellement, 5 composants web sont disponibles pour construire des tableaux de bord et autres dataviz:</p> <ul> <li><code>dge-figure</code> pour l'affichade d'indicateurs chiffr\u00e9s</li> <li><code>dge-table</code> pour l'affichade de tableaux</li> <li><code>dge-chart</code> pour l'affichade de graphiques</li> <li><code>dge-text</code> pour l'affichade de textes (exemple: d\u00e9finition d'un indicateur, commentaire d'un graphique, etc.)</li> <li><code>dge-image</code> pour l'affichade d'une image</li> </ul>"},{"location":"index.html#les-sources-de-donnees-supportees","title":"Les sources de donn\u00e9es support\u00e9es","text":"<p>DGE Dataviz Components supporte 4 sources de donn\u00e9es:</p> <ul> <li>Les fichiers CSV</li> <li>Les fichiers et API JSON simples (ex.: API NocoDB)</li> <li>L'API Data4Citizen</li> <li>Les flux OGC WFS</li> </ul> <p>Pour plus d'information, vous pouvez vous r\u00e9f\u00e9rer \u00e0 la section d\u00e9di\u00e9e aux sources de donn\u00e9es.</p>"},{"location":"about.html","title":"A propos","text":"<p>DGE Dataviz Components est d\u00e9velopp\u00e9 dan le cadre de l'\u00e9volution du programme DataGrandEst vers DataGrandEst.</p>"},{"location":"about.html#licence","title":"Licence","text":"<p>DGE Dataviz Components est dsponible sous licence ouverte MIT.</p>"},{"location":"about.html#librairies-externes-utilisees","title":"Librairies externes utilis\u00e9es","text":"<p>Ces outils utilisent plusieurs librairies externes parmis lesquelles:</p> Librairie dge-text dge-image dge-figure dge-table dge-chart dge-map bootstrap 5.3.x X X X X X X bootstrap-icons 1.11.x X alasql 4.1.x X X X X papaparse 5.4.x X X X chartjs 4.4.x  (+ plugins) X leaflet 1.9.x X sveltejs 4.2.x X X X X X X"},{"location":"documentation-chart.html","title":"DGE Chart","text":"<p>Un composant pour afficher facilement des graphiques.</p>"},{"location":"documentation-chart.html#liste-des-proprietes","title":"Liste des propri\u00e9t\u00e9s","text":"<p>Il existe 4 grands types de propri\u00e9t\u00e9s:</p> <ul> <li>\"String\": cha\u00eene de caract\u00e8res (ex.: <code>title=\"Un titre\"</code>) </li> <li>\"Integer\": Un nombre (ex.: <code>decimal=\"3\"</code>) </li> <li>\"Boolean\": une valeur binaire (vrai ou faux): \"true\"/\"false\" (ex.: <code>localcss=\"true\"</code>)</li> <li>\"Objects\": ensemble de couples cl\u00e9/valeur inclus dans une propri\u00e9t\u00e9 (Ex.: <code>property=\"att1:value1;att2:value2;att3:value3...\"</code>). Dans ce cas, vous trouverez dans la documentation un tableau qui pr\u00e9cise la nature de chaque attribut attendu. Pour certains attributs, ils peuvent aussi exister sous forme de propri\u00e9t\u00e9 individuelle (ex: <code>attribution=\"text:DataGrandEst\"</code> est \u00e9quivalent \u00e0 <code>attributiontext=\"DataGrandEst\"</code>)</li> </ul> <p>Il est important de respecter le type de valeur attendu par les propri\u00e9t\u00e9s et attributs pour le bon fonctionnement des composants web. Leur d\u00e9veloppement s'appuie notamment sur la librairies AlaSQL qui permet de ne pas privil\u00e9gier la simplicit\u00e9 au d\u00e9triment de la puissance de traitement. Ainsi, en combinant les propri\u00e9ts <code>datasets</code>, <code>fields</code>, <code>from</code>, <code>where</code>, <code>orderby</code>, <code>having</code>, etc. il est possible de s\u00e9lectionner finement et exploiter pleinement le potentiel des donn\u00e9es sources. </p> <p>A noter que comme dans tout requ\u00eatage SQL il y a des mots-cl\u00e9s r\u00e9serv\u00e9s. Ils ne doivent pas \u00eatre utilis\u00e9s comme nom de champs. Une solution de contournement existe cependant en les \"\u00e9chappant\" avec <code>fieldname</code> ou <code>[fieldname]</code> (ex.: <code>operation=\"sum|``value``\"</code>).  </p>"},{"location":"documentation-chart.html#api","title":"api","text":"Propri\u00e9t\u00e9 Type D\u00e9faut api String \"json\" <p>Typde de source de donn\u00e9es. Les valeurs possibles sont:</p> <ul> <li>\"json\": fichier JSON</li> <li>\"csv\": fichier CSV</li> <li>\"wfs\": flux WFS</li> <li>\"dc4\": API provenant d'une plateforme Data4Citizen</li> </ul> <p>Exemple: <code>api=\"csv\"</code></p>"},{"location":"documentation-chart.html#animation","title":"animation","text":"Propri\u00e9t\u00e9 Type D\u00e9faut animation Object null Attribut Type D\u00e9faut Propri\u00e9t\u00e9 \u00e9q. Description duration Integer 1000 animduration Dur\u00e9e de l'animation en millisecondes easing String \"easeOutQuart\" animeasing Type d'animation (cf. liste delay Integer null animdelay D\u00e9lai avant de lancer l'animation loop Boolean null animloop Si \"true\" l'animation tourne en boucle <p>Propri\u00e9t\u00e9 permettant de d\u00e9finir l'animation \u00e0 l'affichage du graphique. La liste des param\u00e8tres est celle de la prori\u00e9t\u00e9 \"animation\" de Chartjs. Cf. https://www.chartjs.org/docs/latest/configuration/animations.html#animation</p> <p>Exemple: <code>animation=\"duration:5000\"</code></p>"},{"location":"documentation-chart.html#attribution","title":"attribution","text":"Propri\u00e9t\u00e9 Type D\u00e9faut attribution Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9  \u00e9quivalente Description text String null attributiontext Texte \u00e0 afficher comme support au lien vers le site indiqu\u00e9 (cf. attribut <code>url</code>) icon String null attributionicon Nom de l'\u00eecon (cf. biblioth\u00e8que \"Bootstrap Icons v1.7.x\") prefix String null attributionprefix Texte prefixant l'attribut <code>text</code> url String null attributionurl Lien vers un site internet size String 1rem attributionsize Taille de l'icon. L'unit\u00e9 doit \u00eatre pr\u00e9cis\u00e9e (ex.: \"1.5rem\" ou \"18px\") color String #000 attributioncolor Couleur de l'icon (ex.: \"#393\" ou \"#99564c\" ou \"rgba(50,200,35,0.6)\") title String text attributiontitle Titre du texte ou de l'icon qui appra\u00eet au survol par la souris <p>Sources des donn\u00e9es utilis\u00e9es par le composant.  Cette propri\u00e9t\u00e9 est de type object et se compose d'une liste d'attributs permettant de pr\u00e9ciser le texte ou l'icon \u00e0 afficher, l'URL, etc.</p> <p>Exemple: <code>attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"</code></p>"},{"location":"documentation-chart.html#chart","title":"chart","text":"Propri\u00e9t\u00e9 Type D\u00e9faut chart String false <p>Type de graphique utilis\u00e9 pour la repr\u00e9sentation des donn\u00e9es.  Les type de graphiques possible sont (cf. librairie ChartJS):</p> <ul> <li>\"bar\": repr\u00e9sentation en barres</li> <li>\"line\": repr\u00e9sentation sous forme de ligne</li> <li>\"pie\": repr\u00e9sentation sous forme de camembert</li> <li>\"doughnut\": repr\u00e9sentation sous forme de donuts</li> <li>\"polarArea\": repr\u00e9sentation sous forme de polarArea</li> <li>\"radar\": repr\u00e9sentation sous forme de radar</li> </ul> <p>A cela s'ajout pour les diahrammes en barres les variantes suivantes:</p> <ul> <li>\"bars\": graphique en barres avec des couleurs diff\u00e9rentes pour chaque barre</li> <li>\"bar-h\": graphique en barres horizontales</li> <li>\"bars-h\": graphique en barres horizontales avec avec des couleurs diff\u00e9rentes pour chaque barre</li> <li>\"bar-s\": graphique en barres superpos\u00e9es</li> <li>\"bar-s\": graphique en barres superpos\u00e9es avec avec des couleurs diff\u00e9rentes pour chaque barre</li> <li>\"gauge\": graphiuqe sous forme de jauge</li> </ul> <p>Le type gauge dispose de sa propre propri\u00e9t\u00e9 <code>gauge=</code>. Elle d\u00e9finie un ensemble de param\u00e8tre permettant de mettre en forme la jauge. Exemple: <code>gauge=\"circumference:270;rotation:-135;cutout:75%;radius:98%;borderRadius:2;offset:15\"</code> (param\u00e8tre par d\u00e9faut)</p>"},{"location":"documentation-chart.html#colors","title":"colors","text":"Propri\u00e9t\u00e9 Type D\u00e9faut colors String false <p>Par d\u00e9faut, les couleurs du graphiques sont g\u00e9n\u00e9r\u00e9es al\u00e9atoirement.  Il est possble de d\u00e9finir des couleurs fixes par s\u00e9rie via la propri\u00e9t\u00e9 <code>colors=\"\"</code>. Le s\u00e9parateur entre les s\u00e9ries est \"|\". Pour le type <code>bars</code> il est possible de pr\u00e9ciser la couleur de chaque barre si le nombre de donn\u00e9es repr\u00e9sent\u00e9es est connu. Le s\u00e9parateur entre les barres d'un m\u00eame s\u00e9rie est <code>;</code>.</p> <p>Exemple: <code>colors=\"rgba(226,58,112,0.5)|rgba(52,85,186,0.5)\"</code></p>"},{"location":"documentation-chart.html#datasets","title":"datasets","text":"Propri\u00e9t\u00e9 Type D\u00e9faut datasets String false <p>Nom du ou des jeux de donn\u00e9es utilis\u00e9s. Si plusieurs jeux de donn\u00e9es sont pr\u00e9cis\u00e9s (exemples: plusieurs fichiers JSON ou CSV) il doivent \u00eatre s\u00e9pr\u00e9s par un \"|\" et provenir de la m\u00eame source (propri\u00e9t\u00e9 <code>url</code>).</p> <p> Pour un flux WFS il s'agit du ou des noms des couches de donn\u00e9es (\"layer\").  Pour un fichier JSON ou CSV il s'agit du ou des noms de fichiers, extension comprise.</p> <p>Un alias peut \u00eatre donn\u00e9 aux datasets, notamment lors de l'utilisation de plusieurs sources de donn\u00e9es. Il permet, comme dans le language SQL de pr\u00e9fixer le nom des champs dans d'autres propri\u00e9t\u00e9 (<code>where</code>, <code>from</code>, etc.) et \u00e9viter les confusions. </p> <p>Exemples:</p> <ul> <li><code>datasets=\"commune_actuelle\"</code></li> <li><code>datasets=\"commandes.csv,cmd|contact.csv,cnt\"</code></li> </ul>"},{"location":"documentation-chart.html#fields","title":"fields","text":"Propri\u00e9t\u00e9 Type D\u00e9faut fields String false <p>Liste des champs renvoy\u00e9 lors de la r\u00e9cup\u00e9ration des donn\u00e9es. Cette propri\u00e9t\u00e9 est obligatoire dans le cas de l'utilisation de plusieurs datasets.  La liste doit d'ailleurs dans ce cas respecter l'ordre des sources de donn\u00e9es d\u00e9finies dans la propri\u00e9t\u00e9 <code>datasets=\"\"</code>.</p> <p>Cette propri\u00e9t\u00e9 est \u00e9galement conseill\u00e9e pour les flux WFS. Elle permet d'all\u00e9ger le volume de donn\u00e9es en \u00e9vitant que le serveur renvoi les g\u00e9om\u00e9tries au format GeoJSON.  Ce param\u00e8tre n'a pas d'influence avec les sources de donn\u00e9es Data4Citizen et les fichiers JSON et CSV.</p> <p>Le s\u00e9parateur de champ est \",\". Si plusieurs datasets sont pr\u00e9cis\u00e9s, les champs doivent \u00eatre indiqu\u00e9 dans l'ordre des datasets, s\u00e9par\u00e9s par des \"|\".</p> <p>Exemples: </p> <ul> <li><code>fields=\"id,code,name,color\"</code></li> <li><code>fields=\"id,code_id,name,color|id,code,value\"</code></li> </ul>"},{"location":"documentation-chart.html#filter","title":"filter","text":"<p>Affichage d'une liste de s\u00e9lection pour filtrer les donn\u00e9es.</p> Propri\u00e9t\u00e9 Type D\u00e9faut filter String false <p>Ce param\u00e8tre se compose de 3 parties:</p> <ul> <li>Le texte \u00e0 afficher par d\u00e9faut quand aucune valeur n'est s\u00e9lectionn\u00e9e (si cette valeur est vide, aucune valeur par d\u00e9faut n'est utilis\u00e9e)</li> <li>Le champ \u00e0 utiliser pour le filtre</li> <li>Eventuellement une valeur de filtre pr\u00e9d\u00e9finie</li> </ul> <p>Exemples:</p> <ul> <li><code>filter=\"S\u00e9lectionner un EPCI|epci\"</code></li> <li><code>filter=\"S\u00e9lectionner une commune|f4|Strasbourg\"</code></li> <li><code>filter=\"|year|\"</code></li> </ul>"},{"location":"documentation-chart.html#from","title":"from","text":"Propri\u00e9t\u00e9 Type D\u00e9faut from String false <p>Propri\u00e9t\u00e9 qui permet dans le cas de l'utilisation de plusieurs datasets de pr\u00e9ciser la jointure entre les sources de donn\u00e9es.  Elle est \u00e9quivalente \u00e0 la partie \"FROM\" de la requ\u00eate SQL ou le nom des tables est remplac\u00e9 par des \"?\", en respectant l'ordre d\u00e9fini dans la propri\u00e9t\u00e9 <code>datasets=\"\"</code>.</p> <p>Exemple: <code>? AS table1 join ? AS table2 ON table1.field2=table2.field1 INNER JOIN ? AS table3 ON table1.field3=table3.field1</code></p>"},{"location":"documentation-chart.html#groupby","title":"groupby","text":"Propri\u00e9t\u00e9 Type D\u00e9faut groupby String false <p>Propri\u00e9t\u00e9 permettant de grouper les r\u00e9sultats selon un champ (une \"cat\u00e9gorie\" ou un \"type\" par exemple). </p> <p>Pour les graphiques, elle fonctionne en g\u00e9n\u00e9ral conjointement \u00e0 une formule de regroupement sur les ordonn\u00e9es (ex.: <code>y=\"SUM(values)\"</code>).  Les formulaes de regroupement sont celles du SQL: \"SUM\", \"MIN\", \"MAX\", \"COUNT\", \"AVG\".</p> <p>Exemples: <code>groupby=\"category\"</code></p>"},{"location":"documentation-chart.html#having","title":"having","text":"Propri\u00e9t\u00e9 Type D\u00e9faut having String false <p>Propri\u00e9t\u00e9 fonctionnant en lien avec <code>groupby=\"\"</code> (et <code>y=\"\"</code>). Comme dans le cadre des requ\u00eates SQL, elle permet de r\u00e9aliser un filtre sur le r\u00e9sultat d'un regroupement, l\u00e0 ou la propri\u00e9t\u00e9 <code>where=\"\"</code> permet un filtre sur les \u00e9l\u00e9ments retourn\u00e9s avant leur regroupement.  On aura donc conjointement par exemple: <code>y=\"SUM(values),somme\" groupby=\"categorie\" having=\"somme&gt;100\"</code>.</p> <p>Exemple: <code>having=\"somme&gt;100\"</code></p>"},{"location":"documentation-chart.html#height-et-width","title":"height et width","text":"Propri\u00e9t\u00e9 Type D\u00e9faut height Integer 3 width Integer 4 <p>Propri\u00e9t\u00e9s permettant de d\u00e9finir la largeur (<code>width</code>) et la hauteur du grphique (<code>height</code>). Les dimensions sont calcul\u00e9es automatiquement de fa\u00e7on responsive \u00e0 partir du rapport entre la hauteur et la largeur. Par d\u00e9faut ces valeurs sont respectivement de 4 et 3 soit un rapport de 4/3.</p> <p>Exemple: <code>width=\"4\" height=\"1\"</code></p>"},{"location":"documentation-chart.html#id","title":"id","text":"Propri\u00e9t\u00e9 Type D\u00e9faut id String \"dge-chart\" <p>Identifiant du composant. Il peut \u00eatre utilis\u00e9 pour appliquer une mise en forme sp\u00e9cifique via du CSS.</p> <p>Exemple: <code>id=\"dge-chart-1\"</code></p>"},{"location":"documentation-chart.html#klass","title":"klass","text":"Propri\u00e9t\u00e9 Type D\u00e9faut klass String \"\" <p>Classes CSS d\u00e9finies pour le composant. Attention, la propri\u00e9t\u00e9 est \"klass\" et non \"class\"!</p> <p>Exemple: <code>klass=\"primary-color\"</code></p>"},{"location":"documentation-chart.html#labels","title":"labels","text":"Propri\u00e9t\u00e9 Type D\u00e9faut labels String false <p>Propri\u00e9t\u00e9 permettant de pr\u00e9ciser le nom des \u00e9tiquettes pour les valeurs des abscisses (x).</p> <p>Exemple: <code>labels=\"OUI|NON|NE SAIS PAS\"</code> </p>"},{"location":"documentation-chart.html#legend","title":"legend","text":"Propri\u00e9t\u00e9 Type D\u00e9faut legend Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9 \u00e9q. Description display Boolean true -- Afficher la l\u00e9gende position String \"top\" -- Postiond e la l\u00e9gende align Integer \"center\" -- Alignement de la legend maxHeight Number null -- Hauteur maximale de la l\u00e9gende en pixels maxWidth Number null -- Largeur maximale de la l\u00e9gende en pixels fullSize Boolean true -- Utiliser la taille maximale possible du canvas reverse Boolean false -- Afficher les donn\u00e9es ens esn inverse dans la l\u00e9gende labels Object null -- Configuration des \u00e9tiquettes dans la l\u00e9gende rtl Boolean false -- Afficher la legende de droite \u00e0 gauche textDirection String null -- Forcer la direction du texte title Object null -- Configuration du titre de la l\u00e9gende <p>Propri\u00e9t\u00e9 permettant de configurer la l\u00e9gende. La notation se fait sous la forme <code>cl\u00e9:valeur</code> s\u00e9par\u00e9es par des virgules (<code>;</code>). Les propri\u00e9t\u00e9s disponibles sont celles de la librairie chartjs: options de lengende. Les propri\u00e9t\u00e9s de type \"Object\" et 'Function\" ne sont pas impl\u00e9ment\u00e9es et n'ont pas \u00e9t\u00e9 test\u00e9es.</p> <p>Exemple: <code>legend=display:false</code></p>"},{"location":"documentation-chart.html#localcss","title":"localcss","text":"Propri\u00e9t\u00e9 Type D\u00e9faut localcss Boolean false <p>Indique si le composant utilise des fichiers CSS locaux ou distants. Ce param\u00e8tre permet notamment de pouvoir utiliser le composant dans un contexte hors ligne. Par d\u00e9faut, les fichiers CSS des biblioth\u00e8ques Bootstrap et Bootstrap Icons sont charg\u00e9es via les liens:</p> <ul> <li>https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css</li> <li>https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css</li> </ul> <p>Si la propri\u00e9t\u00e9 localcss est activ\u00e9e (<code>localcss=\"1\"</code>) alors le composant essaie de charger les fichiers suivants:</p> <ul> <li>\"./bootstrap/css/bootstrap.min.css\"</li> <li>\"./bootstrap-icons/bootstrap-icons.css\"</li> <li>\"./global.css\"</li> </ul> <p>Exemple: <code>localcss=\"1\"</code></p>"},{"location":"documentation-chart.html#max","title":"max","text":"Propri\u00e9t\u00e9 Type D\u00e9faut max Integer false <p>Nombre d'entit\u00e9 \u00e0 retourner lors de l'appel \u00e0 l'API. Cette propri\u00e9t\u00e9 est notamment \u00e0 utiliser avec les API <code>wfs</code> et <code>d4c</code> quilimitent par d\u00e9faut le nombre de donn\u00e9es retourn\u00e9es.</p> <p>Exemple: <code>max=\"500\"</code></p>"},{"location":"documentation-chart.html#orderby","title":"orderby","text":"Propri\u00e9t\u00e9 Type D\u00e9faut orderby String false <p>Propri\u00e9t\u00e9 qui permet de trier et afficher les r\u00e9sultats d'une requ\u00eate par ordre croissant (<code>ASC</code>) ou d\u00e9croissant (<code>DESC</code>) selon un ou plusieurs champs (s\u00e9parateur \"|\").</p> <p>Exemple: <code>orderby=\"type,DESC\"</code></p>"},{"location":"documentation-chart.html#properties","title":"properties","text":"Propri\u00e9t\u00e9 Type D\u00e9faut properties String false <p>Chemin vers la propri\u00e9t\u00e9 contenant la liste des donn\u00e9es \u00e0 utiliser dans le r\u00e9sultat de la requ\u00eate. Les propri\u00e9t\u00e9s doivent \u00eatre s\u00e9par\u00e9es par un point \".\". Si plusieurs jeux de donn\u00e9es sont concern\u00e9s, le s\u00e9parateur entre les jeux de don\u00e9nes est \"|\".</p> <p>Exemples: </p> <ul> <li><code>properties=\"list\"</code></li> <li><code>properties=\"|list|records.data\"</code></li> </ul>"},{"location":"documentation-chart.html#refresh","title":"refresh","text":"Propri\u00e9t\u00e9 Type D\u00e9faut refrtesh Integer false <p>Propri\u00e9t\u00e9 permettant de recharger r\u00e9guli\u00e8rement les donn\u00e9es pour mettre \u00e0 jour le graphique \u00e0 interval de temps r\u00e9gulier sans recharger la page (l'interval est exprim\u00e9 en secondes). Cela peut-\u00eatre utile notamment dans le cas de donn\u00e9es mises \u00e0 jour en temps r\u00e9el. Si plusieurs sources de donn\u00e9es sont indiqu\u00e9es, le rafraichissement est valable pour l'ensemble des datasets.</p> <p>Exemple: <code>refresh=\"60\"</code> pour une mise \u00e0 jour toutes les minutes</p>"},{"location":"documentation-chart.html#reverse","title":"reverse","text":"Propri\u00e9t\u00e9 Type D\u00e9faut reverse String false <p>Propri\u00e9t\u00e9 permettant de transposer les donn\u00e9es, c'est \u00e0 dire inverser les s\u00e9ries en colonne en ligne. Les en-t\u00eates de colonnes deviennent alors les valeurs d'abscisse (x). Cette propri\u00e9t\u00e9 doit \u00eatre utilis\u00e9e conjointement \u00e0 la prori\u00e9t\u00e9 <code>labels</code> car par d\u00e9faut ce sont les param\u00e8tres de type <code>y0</code>, <code>y1</code>, etc. qui sont utilis\u00e9s comme nom de colonne pour les ordonn\u00e9es (y).</p> <p>Exemple: <code>reverse=\"true\"</code></p>"},{"location":"documentation-chart.html#search","title":"search","text":"Propri\u00e9t\u00e9 Type D\u00e9faut search String false <p>Affichage d'une barre de recherche pour filtrer les donn\u00e9es.</p> <p>Ce param\u00e8tre se compose de 3 parties:</p> <ul> <li>Le texte \u00e0 afficher par d\u00e9faut dans la barre de recherche</li> <li>Le champ \u00e0 utiliser pour le filtre</li> <li>Eventuellement une valeur de filtre pr\u00e9d\u00e9finie</li> </ul> <p>Dans le cas de l'utilisation de la propri\u00e9t\u00e9 <code>sql</code>, il faut utiliser ici le nom de l'alias du champ de recherche.</p> <p>Exemples:</p> <ul> <li><code>search=\"Rechercher un EPCI|epci\"</code></li> <li><code>search=\"Rechercher une commune|f4|Str\"</code></li> </ul>"},{"location":"documentation-chart.html#textcenter","title":"textcenter","text":"Propri\u00e9t\u00e9 Type D\u00e9faut textcenter Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9 \u00e9q. Description label String \"\" tclabel Texte \u00e0 afficher fontsize Integer 30 tcfontsize Taille du texte proportionnellement \u00e0 la place disponible fontfamily String \"Arial, sans-serif\" tcfontfamily Font du texte \u00e0 afficher lineheight String null tclineheight Lien vers un site internet fontstyle String \"\" tcfontstyle Style du texte (ex.: \"italic\") fontweight String \"normal\" tcfontweight Mettre le texte en gras (ex.: \"bold\") color String \"rgba(0,0,0,1)\" tccolor Couleur du texte (ex.: \"#393\" ou \"#99564c\" ou \"rgba(50,200,35,0.6) align String \"center\" tcalign Alignement du texte: \"center\", \"left\", \"right\" baseline String \"middle\" tcbaseline Alignement du texte par rapport \u00e0 la ligne d'\u00e9criture: \"middle\", \"top\", \"bottom\" x String 0 tcx D\u00e9callage du texte en \"x\" y String 0 tcy D\u00e9callage du texte en \"y\" <p>Propri\u00e9t\u00e9 permettant d'afficher un texte au centre du graphique (de type doughnut ou gauge de pr\u00e9f\u00e9rence). Le texte peut \u00eatre sur plusieurs lignes. Le s\u00e9parateur \"|\" est utilis\u00e9 entre les ligne de la fa\u00e7on suivante: <code>textcenter=\"line1|line2|line3\"</code>. Chaque ligne est d\u00e9crite selon plusieurs param\u00e8tres s\u00e9par\u00e9s par des \";\" (cf. exemple ci-dessous). Paffichage d'une seule ligne, les propri\u00e9t\u00e9s \u00e9quivalentes peuvent aussi \u00eatre utilisd\u00e9es (ex.: <code>tclabel=\"Mon texte\" tccolor=\"#f00\"</code>)</p> <p>A noter \u00e9galement que des variables peuvent \u00eatre ajout\u00e9es pour int\u00e9grer des informations chiffr\u00e9es. Elles sont de la forme <code>%operation,decimal,[line],[field]%</code>. Une seule variable peut \u00eatre utilis\u00e9e par ligne de texte. - operation: \"sum\", \"min\", \"max\", \"average\", \"percent\", \"value\" - decimal: nombre de d\u00e9cimal \u00e0 afficher - line: selection de la ou des lignes prendre en compte dans le calcul par son num\u00e9ro d'ordre (s\u00e9prateur '-': 0-1-2). Cette information permet par exemple de calculer une somme ou un pourcentage partiel des donn\u00e9es affich\u00e9es. - field: nom du champ \u00e0 prendre en compte (\u00e0 utiliser quand les donn\u00e9es sont compos\u00e9e de plusieurs champs comme par exemple pour choisir la colonne d'une table \u00e0 prendre en compte)</p> <p>Exemple: <code>textcenter=\"label:OUI;color:rgba(120,180,60,1);baseLine:middle;fontSize:12;fontFamily:Arial;fontStyle:normal;fontWeight:normal;y:40|label:%percent,2,0-1%%;color:rgba(180,120,60,1);baseLine:middle;fontSize:15;fontWeight:bold;fontFamily:Arial;y:50;x:20\"</code></p>"},{"location":"documentation-chart.html#title","title":"title","text":"Propri\u00e9t\u00e9 Type D\u00e9faut title String null <p>Titre du composant. Si le param\u00e8tre <code>filter</code> ou <code>search</code> est utilis\u00e9e, la valeur recherch\u00e9 peut \u00eatre affich\u00e9 respectivement via les variables <code>%filter%</code> et <code>%search%</code>.  </p> <p>Des variables calacul\u00e9es \u00e0 partir des donn\u00e9es peuvent \u00e9galement \u00eatre ajout\u00e9es dans le titre. Elles sont de la forme <code>%operation,decimal,[line],[field]%</code>. Une seule variable peut \u00eatre utilis\u00e9e par ligne de texte. - operation: \"sum\", \"min\", \"max\", \"average\", \"percent\", \"value\" - decimal: nombre de d\u00e9cimal \u00e0 afficher - line: selection de la ligne ou valeur \u00e0 afficher dans la s\u00e9rie - field: colonne \u00e0 s\u00e9lectionner pour d\u00e9finir la s\u00e9rie \u00e0 afficher (dans le cas de <code>dge-table</code>)</p> <p>Exemples: </p> <ul> <li><code>title=\"Evolution de la population par commune\"</code></li> <li><code>title=\"Nombre de projets pour l'ann\u00e9e %filter%\"</code> affiche \"Nombre de projets pour l'ann\u00e9e 2006\" si on a ajouter un param\u00e8tre <code>filter</code> et si la valeur \"2006\" est s\u00e9lectionn\u00e9e dans la liste</li> <li><code>title=\"Total: %sum,0,0,cout%\"</code></li> </ul>"},{"location":"documentation-chart.html#url","title":"url","text":"Propri\u00e9t\u00e9 Type D\u00e9faut url String false <p>URL de la source de donn\u00e9es (cf. la propri\u00e9t\u00e9 <code>api</code> pour conna\u00eetres les sources de donn\u00e9es possibles).</p> <p> Pour les flux WFS, le workspace doit \u00eatre pr\u00e9cis\u00e9.  Pour les fichiers JSON et CSV, le nom du fichier peut \u00eatre indiqu\u00e9 dans la propri\u00e9t\u00e9 <code>datasets</code>.</p> <p>Exemples:</p> <ul> <li><code>url=\"https://www.datagrandest.fr/geoserver/region-grand-est/wfs\"</code></li> <li><code>url=\"https://dev.datagrandest.fr/data4citizen/d4c/api/records/1.0/search\"</code></li> <li><code>url=\"./data/test.json\"</code></li> <li><code>url=\"https://www.datagrandest.fr/tools/dge-dataviz-components/dge-components/data/test.csv\"</code></li> </ul>"},{"location":"documentation-chart.html#where","title":"where","text":"Propri\u00e9t\u00e9 Type D\u00e9faut where String false <p>Filtre appliqu\u00e9 sur les donn\u00e9es r\u00e9cup\u00e9r\u00e9es. Il correspond \u00e0 la partie \"WHERE\" de la requ\u00eate SQL. Si la valeur recherch\u00e9e est une cha\u00efne de caract\u00e8res il faut l'encadrer avec des apostrophes (\"'\"). Cla n'est pas n\u00e9cessaire pour les nombres. La conversion des cha\u00eenes en nombre peux d\u00e9pendre de la source de donn\u00e9es.</p> <p>Exemples: </p> <ul> <li><code>where=\"commande=3</code></li> <li><code>where=\"object='cahier'</code></li> </ul>"},{"location":"documentation-chart.html#x","title":"x","text":"Propri\u00e9t\u00e9 Type D\u00e9faut x String false <p>Donn\u00e9es \u00e0 afficher en abscisse du graphique. Il s'agit du nom d'une colonne ou d'une op\u00e9ration SQL sur les colonnes du jeu de donn\u00e9es.</p> <p>Exemple: <code>x=\"nom_commune\"</code></p>"},{"location":"documentation-chart.html#xaxis","title":"xaxis","text":"Propri\u00e9t\u00e9 Type D\u00e9faut xaxis String false <p>Propri\u00e9t\u00e9 permettant de configurer l'axe des abscisses. La notation se fait sous la forme <code>cl\u00e9:valeur</code> s\u00e9par\u00e9es par des virgules (<code>;</code>). L'axe des abscisses est unique.</p> <p>Les propri\u00e9t\u00e9s disponibles sont:</p> <ul> <li>display: afficher ou non l'axe des abscisses (boolean - true)</li> <li>type: type d'axe des abscisses (valeurs: <code>linear|logarithmic|category|time|timeseries</code>)</li> <li>stacked: empiler les valeurs sur l'axe des abscisses (boolean - false)</li> <li>start: pr\u00e9cise si l'axe commence \u00e0 la valeur 0 ou \u00e0 une valeur proche du minimal de la s\u00e9rie (boolean - false)</li> <li>reverse: renverser l'axe des abscisses (boolean - false)</li> <li>position: d\u00e9finir la position de l'axe des abscisses (valeurs: <code>top|bottom|left|right|center</code>)</li> <li>drawGrid: afficher la grille sur l'axe des abscisses (boolean - true)</li> <li>drawBorder: afficher les bordures du graphique surl'axe des abscisses (boolean - true)</li> <li>drawLines: afficher les lignes du graphique sur l'axe des abscisses (boolean - true)</li> <li>drawTicks: affichier les indicateurs de valeurs sur l'axe des abscisses (boolean - true)</li> <li>positiveSticks: afficher l'axe des abscisses uniquement avec des valeurs positives. Utile par exemple pour les graphiques de type \"pyramide des \u00e2ges\". (boolean - false)</li> <li>min: modifier la valeur minimale de l'axe des abscisses (integer - calcul\u00e9e par d\u00e9faut de fa\u00e7on automatique)</li> <li>max: modifier la valeur maximale de l'axe des abscisses (integer - calcul\u00e9e par d\u00e9faut de fa\u00e7on automatique)</li> </ul> <p>Exemple:</p> <ul> <li><code>x=\"stacked:true;positiveSticks:true\"</code></li> </ul>"},{"location":"documentation-chart.html#y","title":"y","text":"Propri\u00e9t\u00e9 Type D\u00e9faut y String false <p>Donn\u00e9es \u00e0 afficher en ordonn\u00e9es du graphique. Il est possible d'indiquer plusieurs champs s\u00e9par\u00e9s par \"|\" dans le cas de l'ajout de plusieurs s\u00e9ries de donn\u00e9es \u00e0 un graphique.  Il est \u00e9galement possible de pr\u00e9ciser un alias s\u00e9par\u00e9 par une virgule \",\" dans le cas d'une valeur calcul\u00e9e.</p> <p>Exemple:</p> <ul> <li><code>y=\"superficie\"</code></li> <li><code>y=\"superficie|population\"</code></li> <li><code>y=\"prix*quantite,cout\"</code></li> <li><code>y=\"prix*quantite,cout|total\"</code></li> </ul>"},{"location":"documentation-chart.html#yaxis","title":"yaxis","text":"Propri\u00e9t\u00e9 Type D\u00e9faut yaxis String false <p>Propri\u00e9t\u00e9 permettant de configurer l'axe des ordonn\u00e9es des diff\u00e9rentes s\u00e9ries de donn\u00e9es. La notation se fait sous la forme <code>cl\u00e9:valeur</code> s\u00e9par\u00e9es par des virgules (<code>;</code>). Chaque axe des ordonn\u00e9es peut \u00eatre configur\u00e9 s\u00e9par\u00e9mment. le s\u00e9parateur est <code>|</code>.</p> <p>Les propri\u00e9t\u00e9s disponibles sont:</p> <ul> <li>display: afficher ou non l'axe des abscisses (boolean - true)</li> <li>type: type d'axe des abscisses (valeurs: <code>linear|logarithmic|category|time|timeseries</code>)</li> <li>stacked: empiler les valeurs sur l'axe des abscisses (boolean - false)</li> <li>start: pr\u00e9cise si l'axe commence \u00e0 la valeur 0 ou \u00e0 une valeur proche du minimal de la s\u00e9rie (boolean - false)</li> <li>reverse: renverser l'axe des abscisses (boolean - false)</li> <li>position: d\u00e9finir la position de l'axe des abscisses (valeurs: <code>top|bottom|left|right|center</code>)</li> <li>drawGrid: afficher la grille sur l'axe des abscisses (boolean - true)</li> <li>drawBorder: afficher les bordures du graphique surl'axe des abscisses (boolean - true)</li> <li>drawLines: afficher les lignes du graphique sur l'axe des abscisses (boolean - true)</li> <li>drawTicks: affichier les indicateurs de valeurs sur l'axe des abscisses (boolean - true)</li> <li>positiveSticks: afficher l'axe des abscisses uniquement avec des valeurs positives. Utile par exemple pour les graphiques de type \"pyramide des \u00e2ges\". (boolean - false)</li> <li>min: modifier la valeur minimale de l'axe des abscisses (integer - calcul\u00e9e par d\u00e9faut de fa\u00e7on automatique)</li> <li>max: modifier la valeur maximale de l'axe des abscisses (integer - calcul\u00e9e par d\u00e9faut de fa\u00e7on automatique)</li> </ul> <p>Exemple:</p> <ul> <li><code>yaxis=\"start:1,position:left|start:0,position:right,drawGrid:0\"</code></li> </ul>"},{"location":"documentation-chart.html#etiquettes","title":"Etiquettes","text":"<p>Pour la gestion des \u00e9tiquettes ou \"labels\", <code>dge-chart</code> utilise le plugin <code>chartjs-plugin-datalabels</code>. La correspondance entre les propri\u00e9t\u00e9s de <code>dge-chart</code> et de <code>chartjs-plugin-datalabels</code> est pr\u00e9sent\u00e9e dans le tableau ci-dessous. Au lieu d'utiliser des propri\u00e9t\u00e9s s\u00e9par\u00e9es, il est \u00e9galement possible d'utiliser une seule prori\u00e9t\u00e9 <code>datalabels</code> en pr\u00e9cisant l'ensemble des valeurs s\u00e9par\u00e9es par des \";\" sur le mod\u00e8le suivant: <code>datalabels=\"display:true;displayLimit:false;color:rgba(240,240,240,1);align:center;anchor:center;format:percent,2;unit:%\"</code>. </p> <p>Pour plus d'informations, vous pouvez vous r\u00e9f\u00e9rer \u00e0 la documentation de chartjs-plugin-datalabels.</p> chartjs-plugin-datalabels dge-chart anchor dlanchor align dlalign backgroundColor dlbackgroundcolor borderColor dlbordercolor borderRadius dlborderradius borderWidth dlborderwidth clamp dlclamp clip dlclip color dlcolor display dldisplay dlfont font.family dlfontfamily font.size dlfontsize font.style dlfontstyle font.weight dlfontweight font.lineHeight dlfontlineheight labels dllabels listeners dllisteners offset dloffset opacity dlopacity dlpadding padding.top dlpaddingtop padding.right dlpaddingright padding.bottom dlpaddingbottom padding.left dlpaddingleft rotation dlrotation textAlign dltextalign textStrokeColor dltextstrokecolor textStrokeWidth dltextstrokewidth textShadowBlur dltextshadowblur textShadowColor dltextshadowcolor dlformat <p>Il y a 3 proprit\u00e9s qui sont sp\u00e9cifiques \u00e0 <code>dge-chart</code> et n'ont pas d'\u00e9quivalent dans <code>chartjs-plugin-datalabels</code>:</p> <ul> <li><code>dlpadding</code>: elle permet de d\u00e9finir la propri\u00e9t\u00e9 <code>padding</code> en une seule propri\u00e9t\u00e9 de la forme: <code>padding=\"5,12,5,10\"</code></li> <li><code>dlfont</code>: elle permet de d\u00e9finir la propori\u00e9t\u00e9 <code>font</code> en une seule propri\u00e9t\u00e9 de la forme: <code>font=\"family:Arial,size:15,style:normal,weight:bold,lineHeight:1.5\"</code></li> <li><code>dlformat</code>: elle permet de d\u00e9finir le format de l'\u00e9tiquette \u00e0 affichier. Les valeurs sont:</li> <li><code>value</code> (par d\u00e9faut): valeur de l'abscisse</li> <li><code>label</code>: valeur de l'ordonn\u00e9e</li> <li><code>percent,2</code>: valeur de l'abscisse en pourcentage du total. Le chiffre correspond au nombre de d\u00e9cimal apr\u00e8s la virgule</li> </ul> <p>Port\u00e9e des options</p> <p>La configuration des \u00e9tiquettes est d\u00e9finie pour l'ensemble du graphique. <code>dge-chart</code> ne prend pas en charge la d\u00e9finition au niveau des s\u00e9ries de donn\u00e9es (dataset).</p> <p>Propri\u00e9t\u00e9s dynamiques (fonctions)</p> <p>Dans <code>dge-chart</code> les propri\u00e9t\u00e9s ne peuvent prendre que des valeurs statics. L'utilisation de fonctions n'est actuellement pas possible.</p> <p>Etiquettes</p> HTMLDataR\u00e9sultat <pre><code>&lt;dge-chart \n    id=\"dge-chart-6\" \n    title=\"Chiffres cl\u00e9s des d\u00e9penses\" \n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\" \n    max=\"10000\" \n    api=\"csv\" \n    url=\"data/ca-region.csv\" \n    fields=\"BGT_MTREAL,BGT_CONTNAT_LABEL,BGT_CODRD,BGT_ANNEE\" \n    groupby=\"BGT_CONTNAT_LABEL\"\n    orderby=\"mtreal\"\n    where=\"BGT_CODRD = 'd\u00e9pense' AND BGT_ANNEE = 2020\" \n    x=\"BGT_CONTNAT_LABEL\" \n    y=\"SUM(BGT_MTREAL),mtreal\" \n    chart=\"doughnut\"\n    legend=\"position:top,display:false\"\n    padding=\"0,80,80,80\"\n    dldisplay=\"true\"\n    dldisplaylimit=\"100000000\"\n    dlborderradius=\"4\"\n    dlcolor=\"#666\"\n    dlfontweight=\"bold\"\n    dlpaddingtop=\"6\"    \n    dlpaddingright=\"6\"    \n    dlpaddingleft=\"6\"    \n    dlpaddingbottom=\"6\"\n    dlalign=\"end\"\n    dlanchor=\"end\"\n    dlunit=\" \u20ac\"\n    /&gt;\n</code></pre> <p>Cf. fichier \"data/ca-region.csv\".</p> <p>         dlpaddingright=\"6\"          dlpaddingleft=\"6\"          dlpaddingbottom=\"6\"         dlalign=\"end\"         dlanchor=\"end\"         dlunit=\" \u20ac\"        /&gt; </p>"},{"location":"documentation-chart.html#type-de-graphiques","title":"Type de graphiques","text":"<p>Les exemples suivants pr\u00e9sentent les types de graphiques possibles, sans toute fois \u00eatre exaustif.</p> <p>Graphique en barres</p> <p> </p> <p>Graphique en lignes</p> <p> </p> <p>Graphique en radar</p> <p> </p> <p>Graphique en camembert</p> <p> </p> <p>Graphique en donuts</p> <p> </p> <p>Graphique en aire polaire</p> <p> </p> <p>Graphique en barres horizontales</p> <p> </p> <p>Graphique en barres superpos\u00e9es</p> <p> </p> <p>Graphique de type 'jauge' avec icon de sources et de t\u00e9l\u00e9chargement du graphique et des donn\u00e9es</p> <p> </p> <p>Graphique de type 'nuage de mots'</p> <p> </p> <p>Graphique de type 'treemap'</p> <p> </p> <p>Graphique de type 'barre horizontale stacked'</p> <p> </p> <p>Graphique de type 'pyramide des \u00e2ges'</p> <p> </p>"},{"location":"documentation-chart.html#exemples","title":"Exemples","text":"<p>Pour plus de d\u00e9tails, vous pouvez consulter la page de d\u00e9mo.</p>"},{"location":"documentation-figure.html","title":"DGE Figure","text":"<p>Un composant pour afficher facilement un chiffre ou un indicateur.</p>"},{"location":"documentation-figure.html#liste-des-proprietes","title":"Liste des propri\u00e9t\u00e9s","text":"<p>Il existe 4 grands types de propri\u00e9t\u00e9s:</p> <ul> <li>\"String\": cha\u00eene de caract\u00e8res (ex.: <code>title=\"Un titre\"</code>) </li> <li>\"Integer\": Un nombre (ex.: <code>decimal=\"3\"</code>) </li> <li>\"Boolean\": une valeur binaire (vrai ou faux): \"true\"/\"false\" (ex.: <code>localcss=\"true\"</code>) </li> <li>\"Objects\": ensemble de couples cl\u00e9/valeur inclus dans une propri\u00e9t\u00e9 (Ex.: <code>property=\"att1:value1;att2:value2;att3:value3...\"</code>). Dans ce cas, vous trouverez dans la documentation un tableau qui pr\u00e9cise la nature de chaque attribut attendu. Pour certains attributs, ils peuvent aussi exister sous forme de propri\u00e9t\u00e9 individuelle (ex: <code>attribution=\"text:DataGrandEst\"</code> est \u00e9quivalent \u00e0 <code>attributiontext=\"DataGrandEst\"</code>)</li> </ul> <p>Il est important de respecter le type de valeur attendu par les propri\u00e9t\u00e9s et attributs pour le bon fonctionnement des composants web.</p> <p>Par ailleurs, le traitement des donn\u00e9es se fait via des requ\u00eates SQL qui s'apuient sur des mots-cl\u00e9s r\u00e9serv\u00e9s (cf. https://github.com/agershun/alasql/wiki/AlaSQL%2DKeywords ). Ils ne devraient pas \u00eatre utilis\u00e9s comme nom de champs. Une solution de contournement existe en \"\u00e9chappant\" c'est noms de champs avec <code>fieldname</code> ou <code>[fieldname]</code> (ex.: <code>operation=\"sum|</code>value<code>\"</code>).</p>"},{"location":"documentation-figure.html#api","title":"api","text":"Propri\u00e9t\u00e9 Type D\u00e9faut api String \"json\" <p>Typde de source de donn\u00e9es. Les valeurs possibles sont:</p> <ul> <li>\"json\": fichier JSON</li> <li>\"csv\": fichier CSV</li> <li>\"wfs\": flux WFS</li> <li>\"dc4\": API provenant d'une plateforme Data4Citizen</li> </ul> <p>Exemple: <code>api=\"csv\"</code></p>"},{"location":"documentation-figure.html#attribution","title":"attribution","text":"Propri\u00e9t\u00e9 Type D\u00e9faut attribution Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9  \u00e9quivalente Description text String null attributiontext Texte \u00e0 afficher qude support au lien vers le site indiqu\u00e9 (cf. attribut <code>url</code>) icon String null attributionicon Nom de l'\u00eecon (cf. biblioth\u00e8que \"Bootstrap Icons v1.7.x\") prefix String null attributionprefix Texte prefixant l'attribut <code>text</code> url String null attributionurl Lien vers un site internet size String 1rem attributionsize Taille de l'icon. L'unit\u00e9 doit \u00eatre pr\u00e9cis\u00e9e (ex.: \"1.5rem\" ou \"18px\") color String #000 attributioncolor Couleur de l'icon (ex.: \"#393\" ou \"#99564c\" ou \"rgba(50,200,35,0.6)\") title String text attributiontitle Titre du texte ou de l'icon qui appra\u00eet au survol par la souris <p>Sources des donn\u00e9es utilis\u00e9es par le composant.  Cette propri\u00e9t\u00e9 est de type object et se compose d'une liste d'attributs permettant de pr\u00e9ciser le texte ou l'icon \u00e0 afficher, l'URL, etc.</p> <p>Exemple: <code>attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"</code></p>"},{"location":"documentation-figure.html#datalink","title":"datalink","text":"Propri\u00e9t\u00e9 Type D\u00e9faut datalink Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9  \u00e9quivalente Description text String null datalinktext Texte \u00e0 afficher comme support au lien vers le site indiqu\u00e9 (cf. attribut <code>url</code>) icon String null datalinkicon Nom de l'\u00eecon (cf. biblioth\u00e8que \"Bootstrap Icons v1.7.x\") prefix String null datalinkprefix Texte prefixant l'attribut <code>text</code> url String null datalinkurl Lien vers un site internet size String 1rem datalinksize Taille de l'icon. L'unit\u00e9 doit \u00eatre pr\u00e9cis\u00e9e (ex.: \"1.5rem\" ou \"18px\") color String #000 datalinkcolor Couleur de l'icon (ex.: \"#393\" ou \"#99564c\" ou \"rgba(50,200,35,0.6)\") title String text datalinktitle Titre du texte ou de l'icon qui appra\u00eet au survol par la souris <p>Propri\u00e9t\u00e9 permettant de pr\u00e9ciser sous forme de texte ou d'icon un lien vers les donn\u00e9es sources.</p> <p>Exemples: </p> <ul> <li><code>icon=\"text:data;url:https://datagrandest.fr/public/data/villes.csv\"</code></li> <li><code>icontext=\"data\" iconurl=\"https://datagrandest.fr/public/data/villes.csv\"</code></li> </ul>"},{"location":"documentation-figure.html#datasets","title":"datasets","text":"Propri\u00e9t\u00e9 Type D\u00e9faut datasets String false <p>Nom du ou des jeux de donn\u00e9es utilis\u00e9s. Si plusieurs jeux de donn\u00e9es sont pr\u00e9cis\u00e9s (exemples: plusieurs fichiers JSON ou CSV) il doivent \u00eatre s\u00e9pr\u00e9s par un \"|\" et provenir de la m\u00eame source (propri\u00e9t\u00e9 <code>url</code>).</p> <p> Pour un flux WFS il s'agit du ou des noms des couches de donn\u00e9es (\"layer\").  Pour un fichier JSON ou CSV il s'agit du ou des noms de fichiers, extension comprise.</p> <p>Un alias peut \u00eatre donn\u00e9 aux datasets, notamment lors de l'utilisation de plusieurs sources de donn\u00e9es. Il permet, comme dans le language SQL de pr\u00e9fixer le nom des champs dans d'autres propri\u00e9t\u00e9 (<code>where</code>, <code>from</code>, etc.) et \u00e9viter les confusions. </p> <p>Exemples:</p> <ul> <li><code>datasets=\"commune_actuelle\"</code></li> <li><code>datasets=\"commandes.csv,cmd|contact.csv,cnt\"</code></li> </ul>"},{"location":"documentation-figure.html#decimal","title":"decimal","text":"Propri\u00e9t\u00e9 Type D\u00e9faut decimal Integer 0 <p>Nombre de decimal \u00e0 afficher apr\u00e8s la virgule.</p> <p>Exemple: <code>decimal=\"2\"</code></p>"},{"location":"documentation-figure.html#filter","title":"filter","text":"<p>Affichage d'une liste de s\u00e9lection pour filtrer les donn\u00e9es.</p> Propri\u00e9t\u00e9 Type D\u00e9faut filter String false <p>Ce param\u00e8tre se compose de 3 parties:</p> <ul> <li>Le texte \u00e0 afficher par d\u00e9faut quand aucune valeur n'est s\u00e9lectionn\u00e9e (si cette valeur est vide, aucune valeur par d\u00e9faut n'est utilis\u00e9e)</li> <li>Le champ \u00e0 utiliser pour le filtre</li> <li>Eventuellement une valeur de filtre pr\u00e9d\u00e9finie</li> </ul> <p>Exemples:</p> <ul> <li><code>filter=\"S\u00e9lectionner un EPCI|epci\"</code></li> <li><code>filter=\"S\u00e9lectionner une commune|f4|Strasbourg\"</code></li> <li><code>filter=\"|year|\"</code></li> </ul>"},{"location":"documentation-figure.html#fields","title":"fields","text":"Propri\u00e9t\u00e9 Type D\u00e9faut fields String false <p>Liste des champs renvoy\u00e9 lors de la r\u00e9cup\u00e9ration des donn\u00e9es. Cette propri\u00e9t\u00e9 est obligatoire dans le cas de l'utilisation de plusieurs datasets.  La liste doit d'ailleurs dans ce cas respecter l'ordre des sources de donn\u00e9es d\u00e9finies dans la propri\u00e9t\u00e9 <code>datasets=\"\"</code>.</p> <p>Cette propri\u00e9t\u00e9 est \u00e9galement conseill\u00e9e pour les flux WFS. Elle permet d'all\u00e9ger le volume de donn\u00e9es en \u00e9vitant que le serveur renvoi les g\u00e9om\u00e9tries au format GeoJSON.  Ce param\u00e8tre n'a pas d'influence avec les sources de donn\u00e9es Data4Citizen et les fichiers JSON et CSV.</p> <p>Le s\u00e9parateur de champ est \",\". Si plusieurs datasets sont pr\u00e9cis\u00e9s, les champs doivent \u00eatre indiqu\u00e9 dans l'ordre des datasets, s\u00e9par\u00e9s par des \"|\".</p> <p>Exemples: </p> <ul> <li><code>fields=\"id,code,name,color\"</code></li> <li><code>fields=\"id,code_id,name,color|id,code,value\"</code></li> </ul>"},{"location":"documentation-figure.html#from","title":"from","text":"Propri\u00e9t\u00e9 Type D\u00e9faut from String false <p>Propri\u00e9t\u00e9 qui permet dans le cas de l'utilisation de plusieurs datasets de pr\u00e9ciser la jointure entre les sources de donn\u00e9es.  Elle est \u00e9quivalente \u00e0 la partie \"FROM\" de la requ\u00eate SQL ou le nom des tables est remplac\u00e9 par des \"?\", en respectant l'ordre d\u00e9fini dans la propri\u00e9t\u00e9 <code>datasets=\"\"</code>.</p> <p>Exemple: <code>? AS table1 join ? AS table2 ON table1.field2=table2.field1 JOIN ? AS table3 ON table1.field3=table3.field1</code></p>"},{"location":"documentation-figure.html#id","title":"id","text":"Propri\u00e9t\u00e9 Type D\u00e9faut id String \"dge-figure\" <p>Identifiant du composant. Il peut \u00eatre utilis\u00e9 pour appliquer une mise en forme sp\u00e9cifique via du CSS.</p> <p>Exemple: <code>id=\"dge-figure-1\"</code></p>"},{"location":"documentation-figure.html#icon","title":"icon","text":"Propri\u00e9t\u00e9 Type D\u00e9faut icon Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9  \u00e9quivalente Description name String null iconname Nom de l'\u00eecon (cf. biblioth\u00e8que \"Bootstrap Icons v1.7.x\") size String \"48px\" iconsize Taille de l'icon. L'unit\u00e9 doit \u00eatre pr\u00e9cis\u00e9e (ex.: \"1.5rem\" ou \"18px\") color String \"#000\" iconcolor Couleur de l'icon (ex.: \"#393\" ou \"#99564c\" ou \"rgba(50,200,35,0.6)\") position String \"top\" iconposition Position de l'icon: \"top\", \"left\", \"right\", \"bottom\" <p>Il est possible d'ajouter un icon \u00e0 c\u00f4t\u00e9 de l'indicateur gr\u00e2ce aux propri\u00e9t\u00e9s et attributs ci-dessus. DGE Dataviz Components utilise la biblioth\u00e8que Bootstrap Icons.</p> <p>Exemples:</p> <ul> <li><code>icon=\"name:people-fill;color:#393;size:60rem;position:left\"</code></li> <li><code>iconname=\"people-fill\"</code></li> </ul>"},{"location":"documentation-figure.html#iconsurl","title":"iconsurl","text":"<p>NON UTILISE ACTUELLEMENT</p> <p>URL/chemin vers la biblioth\u00e8que des icons (fichier SVG).</p> <p>Exemple: <code>iconsurl=\"\"./libs/bootstrap-icons/bootstrap-icons.svg#\"</code></p>"},{"location":"documentation-figure.html#image","title":"image","text":"Propri\u00e9t\u00e9 Type D\u00e9faut image Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9  \u00e9quivalente Description url String null imageurl Lien (URL) de l'image \u00e0 afficher position String \"top\" imageposition Poition de l'image: \"top\", \"left\", \"right\", \"bottom\" rounded String false imagerounded Afficher l'image avec ou non des coins arrondis alt String \"\" imagealt Texte \u00e0 utiliser si l'image ne peut \u00eatre affich\u00e9e <p>Propri\u00e9t\u00e9 permettant d'afficher une image au dessus, \u00e0 droite, \u00e0 gauche ou en dessous de l'indicateur.</p> <p>Exemple: image=\"rounded:true;position:left;url:https://www.rue89strasbourg.com/wp-content/uploads/2020/11/33963593718-dcde964cd0-k.jpg\"</p>"},{"location":"documentation-figure.html#imagealt","title":"imagealt","text":"Propri\u00e9t\u00e9 Type D\u00e9faut imagealt String \"\" <p>Texte \u00e0 utiliser si l'image ne peut \u00eatre affich\u00e9e.</p> <p>Exemple: <code>imagealt=\"Illustration de l'indicateur\"</code></p>"},{"location":"documentation-figure.html#imageposition","title":"imageposition","text":"Propri\u00e9t\u00e9 Type D\u00e9faut imageposition String \"top\" <p>Poition de l'image: \"top\", \"left\", \"right\", \"bottom\".</p> <p>Exemple: <code>imageposition=\"bottom\"</code></p>"},{"location":"documentation-figure.html#imagerounded","title":"imagerounded","text":"Propri\u00e9t\u00e9 Type D\u00e9faut imagerounded Boolean false <p>Afficher l'image avec ou non des coins arrondis.</p> <p>Exemple: <code>imagerounded=\"true\"</code></p>"},{"location":"documentation-figure.html#imageurl","title":"imageurl","text":"Propri\u00e9t\u00e9 Type D\u00e9faut imageurl String false <p>Lien (URL) de l'image \u00e0 afficher.</p> <p>Exemple: <code>imageurl=\"https://www.rue89strasbourg.com/wp-content/uploads/2020/11/33963593718-dcde964cd0-k.jpg\"</code></p>"},{"location":"documentation-figure.html#klass","title":"klass","text":"Propri\u00e9t\u00e9 Type D\u00e9faut klass String \"\" <p>Classes CSS d\u00e9finies pour le composant. Attention, la propri\u00e9t\u00e9 est \"klass\" et non \"class\"!</p> <p>Exemple: <code>klass=\"primary-color\"</code></p>"},{"location":"documentation-figure.html#localcss","title":"localcss","text":"Propri\u00e9t\u00e9 Type D\u00e9faut localcss Boolean false <p>Indique si le composant utilise des fichiers CSS locaux ou distants. Ce param\u00e8tre permet notamment de pouvoir utiliser le composant dans un contexte hors ligne. Par d\u00e9faut, les fichiers CSS des biblioth\u00e8ques Bootstrap et Bootstrap Icons sont charg\u00e9es via les liens:</p> <ul> <li>https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css</li> <li>https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css</li> </ul> <p>Si la propri\u00e9t\u00e9 localcss est activ\u00e9e (<code>localcss=\"1\"</code>) alors le composant essaie de charger les fichiers suivants:</p> <ul> <li>\"./bootstrap/css/bootstrap.min.css\"</li> <li>\"./bootstrap-icons/bootstrap-icons.css\"</li> <li>\"./global.css\"</li> </ul> <p>Exemple: <code>localcss=\"1\"</code></p>"},{"location":"documentation-figure.html#max","title":"max","text":"Propri\u00e9t\u00e9 Type D\u00e9faut max Integer false <p>Nombre d'entit\u00e9 \u00e0 retourner lors de l'appel \u00e0 l'API. Cette propri\u00e9t\u00e9 est notamment \u00e0 utiliser avec les API <code>wfs</code> et <code>d4c</code> quilimitent par d\u00e9faut le nombre de donn\u00e9es retourn\u00e9es.</p> <p>Exemple: <code>max=\"500\"</code></p>"},{"location":"documentation-figure.html#operation","title":"operation","text":"Propri\u00e9t\u00e9 Type D\u00e9faut operation String \"\" <p>Op\u00e9ration \u00e0 r\u00e9aliser sur les donn\u00e9es pour calculer l'indicateur \u00e0 afficher.  Le champ utilis\u00e9 doit \u00eatre num\u00e9rique.</p> <p>Cette propri\u00e9t\u00e9 est compos\u00e9e de 2 parties s\u00e9par\u00e9es par un \"|\". La premi\u00e8re correspond \u00e0 l'op\u00e9ration a effectuer et la seconde au champ \u00e0 prendre en compte.</p> <p>Les operations possibles sont inspir\u00e9es du langage SQL:</p> <ul> <li>\"average\": moyenne</li> <li>\"sum\": somme</li> <li>\"min\": minimum</li> <li>\"max\": maximum</li> <li>\"count\": compte le nombre de valeurs</li> <li>\"value\": affiche la valeur du r\u00e9sultat demand\u00e9</li> </ul> <p>Exemples:</p> <ul> <li><code>operation=\"sum|habitants\"</code> (Affiche la somme de la colonne <code>habitants</code>)</li> <li><code>operation=\"value|quantit\u00e9\"</code> (Affiche la premi\u00e8re ligne du r\u00e9sultat. Peut \u00eatre utilis\u00e9 avec la propri\u00e9t\u00e9 <code>filter</code> pour cibler une ligne particuli\u00e8re.)</li> <li><code>operation=\"value|sum(prix*quantit\u00e9)\"</code> (Equivalent \u00e0 <code>operation=\"sum|prix*quantit\u00e9\"</code>)</li> </ul>"},{"location":"documentation-figure.html#properties","title":"properties","text":"Propri\u00e9t\u00e9 Type D\u00e9faut properties String false <p>Chemin vers la propri\u00e9t\u00e9 contenant la liste des donn\u00e9es \u00e0 utiliser dans le r\u00e9sultat de la requ\u00eate. Les propri\u00e9t\u00e9s doivent \u00eatre s\u00e9par\u00e9es par un point \".\". Si plusieurs jeux de donn\u00e9es sont concern\u00e9s, le s\u00e9parateur entre les jeux de don\u00e9nes est \"|\".</p> <p>Exemples: </p> <ul> <li><code>properties=\"list\"</code></li> <li><code>properties=\"|list|records.data\"</code></li> </ul>"},{"location":"documentation-figure.html#refresh","title":"refresh","text":"Propri\u00e9t\u00e9 Type D\u00e9faut refresh Integer false <p>Propri\u00e9t\u00e9 permettant de recharger r\u00e9guli\u00e8rement les donn\u00e9es pour mettre \u00e0 jour l'indicateur \u00e0 interval de temps r\u00e9gulier sans recharger la page (l'interval est exprim\u00e9 en secondes). Cela peut-\u00eatre utile notamment dans le cas de donn\u00e9es mises \u00e0 jour en temps r\u00e9el. Si plusieurs sources de donn\u00e9es sont indiqu\u00e9es, le rafraichissement est valable pour l'ensemble des datasets.</p> <p>Exemple: <code>refresh=\"60\"</code> pour une mise \u00e0 jour toutes les minutes</p>"},{"location":"documentation-figure.html#search","title":"search","text":"Propri\u00e9t\u00e9 Type D\u00e9faut search String false <p>Affichage d'une barre de recherche pour filtrer les donn\u00e9es.</p> <p>Ce param\u00e8tre se compose de 3 parties:</p> <ul> <li>Le texte \u00e0 afficher par d\u00e9faut dans la barre de recherche</li> <li>Le champ \u00e0 utiliser pour le filtre</li> <li>Eventuellement une valeur de filtre pr\u00e9d\u00e9finie</li> </ul> <p>Dans le cas de l'utilisation de la propri\u00e9t\u00e9 <code>sql</code>, il faut utiliser ici le nom de l'alias du champ de recherche.</p> <p>Exemples:</p> <ul> <li><code>search=\"Rechercher un EPCI|epci\"</code></li> <li><code>search=\"Rechercher une commune|f4|Str\"</code></li> </ul>"},{"location":"documentation-figure.html#text","title":"text","text":"Propri\u00e9t\u00e9 Type D\u00e9faut text String null <p>Texte affich\u00e9 sous le chiffre ou indicateur pour expliquer sa signification.  Si le param\u00e8tre <code>filter</code> ou <code>search</code> est utilis\u00e9e, la valeur recherch\u00e9e peut \u00eatre affich\u00e9 respectivement via les variables <code>%filter%</code> et <code>%search%</code>.</p> <p>Exemples:</p> <ul> <li><code>text=\"Nombre de projets\"</code></li> <li><code>text=\"Nombre de projets pour l'ann\u00e9e %filter%\"</code> affiche \"Nombre de projets pour l'ann\u00e9e 2006\" si on a ajouter un param\u00e8tre <code>filter</code> et si la valeur \"2006\" est s\u00e9lectionn\u00e9e dans la liste.</li> </ul>"},{"location":"documentation-figure.html#unit","title":"unit","text":"Propri\u00e9t\u00e9 Type D\u00e9faut unit String null <p>Unit\u00e9 \u00e0 affichier apr\u00e8s le chiffre ou indicateur.</p> <p>Exemples:</p> <ul> <li><code>unit=\"m\u00b2\"</code></li> <li><code>unit=\"\u20ac\"</code></li> </ul>"},{"location":"documentation-figure.html#url","title":"url","text":"Propri\u00e9t\u00e9 Type D\u00e9faut url String false <p>URL de la source de donn\u00e9es (cf. la propri\u00e9t\u00e9 <code>api</code> pour conna\u00eetres les sources de donn\u00e9es possibles).</p> <p> Pour les flux WFS, le workspace doit \u00eatre pr\u00e9cis\u00e9.  Pour les fichiers JSON et CSV, le nom du fichier peut \u00eatre indiqu\u00e9 dans la propri\u00e9t\u00e9 <code>datasets</code>.</p> <p>Exemples:</p> <ul> <li><code>url=\"https://www.datagrandest.fr/geoserver/region-grand-est/wfs\"</code></li> <li><code>url=\"https://dev.datagrandest.fr/data4citizen/d4c/api/records/1.0/search\"</code></li> <li><code>url=\"./data/test.json\"</code></li> <li><code>url=\"https://www.datagrandest.fr/tools/dge-dataviz-components/dge-components/data/test.csv\"</code></li> </ul>"},{"location":"documentation-figure.html#value","title":"value","text":"Propri\u00e9t\u00e9 Type D\u00e9faut value String false <p>Propri\u00e9t\u00e9 permettant d'indiquer une valeur sans faire appel \u00e0 une source de donn\u00e9es externe du type API, flux ou fichier. Cela peut \u00eatre int\u00e9ressant pour g\u00e9n\u00e9rer la valeur directement avec du code dans la page.</p> <p>Exemples: </p> <ul> <li><code>value=\"'156'\"</code></li> <li><code>value=\"'&lt;?php echo round($value, 2); ?&gt;'\"</code></li> </ul>"},{"location":"documentation-figure.html#where","title":"where","text":"Propri\u00e9t\u00e9 Type D\u00e9faut where String false <p>Filtre appliqu\u00e9 sur les donn\u00e9es r\u00e9cup\u00e9r\u00e9es. Il correspond \u00e0 la partie \"WHERE\" de la requ\u00eate SQL. Si la valeur recherch\u00e9e est une cha\u00efne de caract\u00e8res il faut l'encadrer avec des apostrophes (\"'\"). Cla n'est pas n\u00e9cessaire pour les nombres. La conversion des cha\u00eenes en nombre peux d\u00e9pendre de la source de donn\u00e9es.</p> <p>Exemples: </p> <ul> <li><code>where=\"commande=3</code></li> <li><code>where=\"object='cahier'</code></li> </ul>"},{"location":"documentation-figure.html#exemples","title":"Exemples","text":"<p>Pour plus de d\u00e9tails, vous pouvez consulter la page de d\u00e9mo.</p>"},{"location":"documentation-image.html","title":"DGE Image","text":"<p>Un composant pour afficher facilement une image ou photo.</p>"},{"location":"documentation-image.html#liste-des-proprietes","title":"Liste des propri\u00e9t\u00e9s","text":"<p>Il existe 4 grands types de propri\u00e9t\u00e9s:</p> <ul> <li>\"String\": cha\u00eene de caract\u00e8res (ex.: <code>title=\"Un titre\"</code>) </li> <li>\"Integer\": Un nombre (ex.: <code>decimal=\"3\"</code>) </li> <li>\"Boolean\": une valeur binaire (vrai ou faux): \"true\"/\"false\" (ex.: <code>localcss=\"true\"</code>) </li> <li>\"Objects\": ensemble de couples cl\u00e9/valeur inclus dans une propri\u00e9t\u00e9 (Ex.: <code>property=\"att1:value1;att2:value2;att3:value3...\"</code>). Dans ce cas, vous trouverez dans la documentation un tableau qui pr\u00e9cise la nature de chaque attribut attendu. Pour certains attributs, ils peuvent aussi exister sous forme de propri\u00e9t\u00e9 individuelle (ex: <code>attribution=\"text:DataGrandEst\"</code> est \u00e9quivalent \u00e0 <code>attributiontext=\"DataGrandEst\"</code>)</li> </ul> <p>Il est important de respecter le type de valeur attendu par les propri\u00e9t\u00e9s et attributs pour le bon fonctionnement des composants web.</p>"},{"location":"documentation-image.html#attribution","title":"attribution","text":"Propri\u00e9t\u00e9 Type D\u00e9faut attribution Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9  \u00e9quivalente Description text String null attributiontext Texte \u00e0 afficher comme support au lien vers le site indiqu\u00e9 (cf. attribut <code>url</code>) icon String null attributionicon Nom de l'\u00eecon (cf. biblioth\u00e8que \"Bootstrap Icons v1.7.x\") prefix String null attributionprefix Texte prefixant l'attribut <code>text</code> url String null attributionurl Lien vers un site internet size String 1rem attributionsize Taille de l'icon. L'unit\u00e9 doit \u00eatre pr\u00e9cis\u00e9e (ex.: \"1.5rem\" ou \"18px\") color String #000 attributioncolor Couleur de l'icon (ex.: \"#393\" ou \"#99564c\" ou \"rgba(50,200,35,0.6)\") title String text attributiontitle Titre du texte ou de l'icon qui appra\u00eet au survol par la souris <p>Sources des donn\u00e9es utilis\u00e9es par le composant.  Cette propri\u00e9t\u00e9 est de type object et se compose d'une liste d'attributs permettant de pr\u00e9ciser le texte ou l'icon \u00e0 afficher, l'URL, etc.</p> <p>Exemple: </p> <ul> <li><code>attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"</code></li> <li><code>attributiontext=\"DataGrandEst\" attributionurl=\"https://www.datagrandest.fr\"</code></li> </ul>"},{"location":"documentation-image.html#id","title":"id","text":"Propri\u00e9t\u00e9 Type D\u00e9faut id String \"dge-image\" <p>Identifiant du composant. Il peut \u00eatre utilis\u00e9 pour appliquer une mise en forme sp\u00e9cifique via du CSS.</p> <p>Exemple: <code>id=\"dge-image-1\"</code></p>"},{"location":"documentation-image.html#klass","title":"klass","text":"Propri\u00e9t\u00e9 Type D\u00e9faut klass String \"\" <p>Classes CSS d\u00e9finies pour le composant. Attention, la propri\u00e9t\u00e9 est \"klass\" et non \"class\"!</p> <p>Exemple: <code>klass=\"primary-color\"</code></p>"},{"location":"documentation-image.html#legend","title":"legend","text":"Propri\u00e9t\u00e9 Type D\u00e9faut legend String false <p>L\u00e9gende de l'image. Ce texte est affich\u00e9 sous l'image. </p> <p>Exemple: <code>legend=\"Ceci est une tr\u00e8s belle illustration.\"</code></p>"},{"location":"documentation-image.html#localcss","title":"localcss","text":"Propri\u00e9t\u00e9 Type D\u00e9faut localcss Boolean false <p>Indique si le composant utilise des fichiers CSS locaux ou distants. Ce param\u00e8tre permet notamment de pouvoir utiliser le composant dans un contexte hors ligne. Par d\u00e9faut, les fichiers CSS des biblioth\u00e8ques Bootstrap et Bootstrap Icons sont charg\u00e9es via les liens:</p> <ul> <li>https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css</li> <li>https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css</li> </ul> <p>Si la propri\u00e9t\u00e9 localcss est activ\u00e9e (<code>localcss=\"1\"</code>) alors le composant essaie de charger les fichiers suivants:</p> <ul> <li>\"./bootstrap/css/bootstrap.min.css\"</li> <li>\"./bootstrap-icons/bootstrap-icons.css\"</li> <li>\"./global.css\"</li> </ul> <p>Exemple: <code>localcss=\"1\"</code></p>"},{"location":"documentation-image.html#src","title":"src","text":"Propri\u00e9t\u00e9 Type D\u00e9faut src String false <p>Source de l'image (URL).</p> <p>Exemple: <code>src=\"https://viago.ca/wp-content/uploads/2017/09/Essentiels_Japon-768x432.jpg\"</code></p>"},{"location":"documentation-image.html#title","title":"title","text":"Propri\u00e9t\u00e9 Type D\u00e9faut title String null <p>Titre du composant.</p> <p>Exemple: <code>title=\"Titre de mon composant DGE image\"</code></p>"},{"location":"documentation-image.html#exemples","title":"Exemples","text":"<p>Pour plus de d\u00e9tails, vous pouvez consulter la page de d\u00e9mo.</p>"},{"location":"documentation-map.html","title":"DGE Map","text":"<p>Un composant pour afficher facilement une carte.</p>"},{"location":"documentation-map.html#liste-des-proprietes","title":"Liste des propri\u00e9t\u00e9s","text":"<p>Il existe 4 grands types de propri\u00e9t\u00e9s:</p> <ul> <li>\"String\": cha\u00eene de caract\u00e8res (ex.: <code>title=\"Un titre\"</code>) </li> <li>\"Integer\": Un nombre (ex.: <code>decimal=\"3\"</code>) </li> <li>\"Boolean\": une valeur binaire (vrai ou faux): \"true\"/\"false\" (ex.: <code>localcss=\"true\"</code>) </li> <li>\"Objects\": ensemble de couples cl\u00e9/valeur inclus dans une propri\u00e9t\u00e9 (Ex.: <code>property=\"att1:value1;att2:value2;att3:value3...\"</code>). Dans ce cas, vous trouverez dans la documentation un tableau qui pr\u00e9cise la nature de chaque attribut attendu. Pour certains attributs, ils peuvent aussi exister sous forme de propri\u00e9t\u00e9 individuelle (ex: <code>attribution=\"text:DataGrandEst\"</code> est \u00e9quivalent \u00e0 <code>attributiontext=\"DataGrandEst\"</code>)</li> </ul> <p>Il est important de respecter le type de valeur attendu par les propri\u00e9t\u00e9s et attributs pour le bon fonctionnement des composants web.</p> <p>Par ailleurs, le traitement des donn\u00e9es se fait via des requ\u00eates SQL qui s'apuient sur des mots-cl\u00e9s r\u00e9serv\u00e9s (cf. https://github.com/agershun/alasql/wiki/AlaSQL%2DKeywords ). Ils ne devraient pas \u00eatre utilis\u00e9s comme nom de champs. Une solution de contournement existe en \"\u00e9chappant\" c'est noms de champs avec <code>fieldname</code> ou <code>[fieldname]</code> (ex.: <code>operation=\"sum|</code>value<code>\"</code>).</p>"},{"location":"documentation-map.html#api","title":"api","text":"Propri\u00e9t\u00e9 Type D\u00e9faut api String \"wms\" <p>Format de la source de donn\u00e9es cartographique: <code>wms</code> ou <code>geojson</code>.</p> <p>Exemple: <code>api=\"geojson\"</code></p>"},{"location":"documentation-map.html#attribution","title":"attribution","text":"Propri\u00e9t\u00e9 Type D\u00e9faut attribution Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9 \u00e9quivalente Description text String null attributiontext Texte \u00e0 afficher qude support au lien vers le site indiqu\u00e9 (cf. attribut <code>url</code>) icon String null attributionicon Nom de l'\u00eecon (cf. biblioth\u00e8que \"Bootstrap Icons v1.7.x\") prefix String null attributionprefix Texte prefixant l'attribut <code>text</code> url String null attributionurl Lien vers un site internet size String 1rem attributionsize Taille de l'icon. L'unit\u00e9 doit \u00eatre pr\u00e9cis\u00e9e (ex.: \"1.5rem\" ou \"18px\") color String #000 attributioncolor Couleur de l'icon (ex.: \"#393\" ou \"#99564c\" ou \"rgba(50,200,35,0.6)\") title String text attributiontitle Titre du texte ou de l'icon qui appra\u00eet au survol par la souris <p>Sources des donn\u00e9es utilis\u00e9es par le composant. Cette propri\u00e9t\u00e9 est de type object et se compose d'une liste d'attributs permettant de pr\u00e9ciser le texte ou l'icon \u00e0 afficher, l'URL, etc.</p> <p>Exemple: <code>attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"</code></p>"},{"location":"documentation-map.html#baselayer","title":"baselayer","text":"Propri\u00e9t\u00e9 Type D\u00e9faut baselayer String null <p>Propri\u00e9t\u00e9 qui sera supprim\u00e9e au profit de <code>baselayers</code> dans une future verson de <code>dge-map</code>.</p> <p>Prorpi\u00e9t\u00e9 permettant de pr\u00e9ciser l'URL et le nom de la couche \u00e0 afficher en fonds de carte. Le s\u00e9parateur est \",\". L'ordre de param\u00e8tres est <code>baselayer=\"url,layername,version,style\"</code>.</p> <p>Exemple: <code>baselayer=\"https://osm.datagrandest.fr/mapcache/?,relief\"</code></p>"},{"location":"documentation-map.html#baselayers","title":"baselayers","text":"Propri\u00e9t\u00e9 Type D\u00e9faut baselayers Object null Attribut Type D\u00e9faut Propri\u00e9t\u00e9 Description url String null -- URL du flux WMS layer String null -- Nom de la couche (\"layer\") format String \"image/jpeg\" -- Format d'affichage des images style String null -- Nom du style \u00e0 utiliser le cas \u00e9ch\u00e9ant transparent String false -- Gestion de la transparence de la couche version String 1.1.0 -- Version du flux WMS (1.1.0/1.1.1/1.3.0) <p>Prorpi\u00e9t\u00e9 visant \u00e0 remplacer <code>baselayer</code>. Elle permet de pr\u00e9ciser plusieurs couches de fonds WMS et leurs propri\u00e9t\u00e9s/attributs.</p> <p>Exemple: <code>baselayers=\"url:https://osm.datagrandest.fr/mapcache/?;layer:relief|https://osm.datagrandest.fr/mapcache/?;layer:d\u00e9fault\"</code></p>"},{"location":"documentation-map.html#center","title":"center;","text":"<p>| Propri\u00e9t\u00e9 | Type   | D\u00e9faut | | --------- | ------ | ------ | ----- | | center    | String | \"7.52  | 47.5\" |</p> <p>Coordonn\u00e9es du centre de la carte \u00e0 l'affichage.</p> <p>Exemple: <code>center=\"7.42|47.9\"</code></p>"},{"location":"documentation-map.html#data","title":"data","text":"Propri\u00e9t\u00e9 Type D\u00e9faut data String null Attribut Type D\u00e9faut Propri\u00e9t\u00e9 Description api String null -- Type de donn\u00e9es \u00e0 afficher (wms/geojson) url String null -- URL du flux WMS ou chemin du fichier JSON layers String null -- Liste des couches ou fichiers JSON \u00e0 afficher formats String \"image/png\" -- Formats d'affichage des images pour le flux WMS styles String null -- Liste des styles \u00e0 utiliser le cas \u00e9ch\u00e9ant transparent String true -- Gestion de la transparence de la couche versions String 1.1.0 -- Versions du flux WMS (1.1.0 / 1.1.1 / 1.3.0) queryable String 1.1.0 -- Liste des couches interrogeable fields String 1.1.0 -- Liste des champs \u00e0 afficher si interrogeable labels String 1.1.0 -- Alias des noms \u00e0 afficher filter String 1.1.0 -- Filtre \u00e0 appliquer pour l'affichage des donn\u00e9es <p>Propri\u00e9t\u00e9 devant remplacer <code>api</code>, <code>url</code>, <code>layers</code>, <code>layersname</code>, <code>fields</code>, <code>labels</code>, <code>styles</code>, <code>version</code>, <code>format</code>, <code>transparent</code>, <code>filters</code> et <code>queryable</code>. dans une future version de <code>dge-map</code>.</p> <p>Liste des couches (layers) \u00e0 afficher.</p> <p>Exemple: </p> <pre><code>data=\"\n    url:https://www.datagrandest.fr/geoserver/region-grand-est/ows?;\n    api:wms;\n    layers:commune_actuelle_3857,commune_actuelle_centroide;\n    layersname:Communes (poly),Commmunes (point);\n    transparent:true;\n    filters:id_epci='246700488';\n    queryable:commune_actuelle_3857;\n    fields:insee_com,nom_com,id_epci,epci_nom_complet;\n    labels:INSEE,COMMUNE,EPCI ID,EPCI|\n\n    url:./data/departements.geojson;\n    layersname:D\u00e9partements;\n    api:geojson;\n    fields:code,nom,site,logo;\n    labels:CODE,NOM,SITE,LOGO;\n    queryable:departements.geojson\"\n</code></pre>"},{"location":"documentation-map.html#fields","title":"fields","text":"Propri\u00e9t\u00e9 Type D\u00e9faut fields String null <p>Liste des champs \u00e0 afficher dans l'infobulle.</p> <p>Exemple: <code>fields=\"insee_com|nom_com|id_epci|epci_nom_complet\"</code></p>"},{"location":"documentation-map.html#filters","title":"filters","text":"Propri\u00e9t\u00e9 Type D\u00e9faut filter String null <p>Propri\u00e9t\u00e9 permettant de filtrer les entitt\u00e9s affich\u00e9es sur la carte.</p> <p>Exemple: <code>filters=\"id_epci='246700488'\"</code></p>"},{"location":"documentation-map.html#formats","title":"formats","text":"Propri\u00e9t\u00e9 Type D\u00e9faut formats String \"image/png\" <p>Format des couches WMS \u00e0 afficher.</p> <p>Exemple: <code>formats=\"image/jpeg\"</code></p>"},{"location":"documentation-map.html#gesturehandling","title":"gesturehandling","text":"Propri\u00e9t\u00e9 Type D\u00e9faut gesturehandling Boolean false <p>Indique si la touche \"Contr\u00f4le\" doit \u00eatre appuy\u00e9e pour pouvoir zoomer.</p> <p>Exemple: <code>gesturehandling=\"true\"</code></p>"},{"location":"documentation-map.html#height","title":"height","text":"Propri\u00e9t\u00e9 Type D\u00e9faut height String \"50vh\" <p>Hauteur de la carte.</p> <p>Exemple: <code>height=\"400px\"</code></p>"},{"location":"documentation-map.html#id","title":"id","text":"Propri\u00e9t\u00e9 Type D\u00e9faut id String \"dge-text\" <p>Identifiant du composant. Il peut \u00eatre utilis\u00e9 pour appliquer une mise en forme sp\u00e9cifique via du CSS.</p> <p>Exemple: <code>id=\"dge-text-1\"</code></p>"},{"location":"documentation-map.html#klass","title":"klass","text":"Propri\u00e9t\u00e9 Type D\u00e9faut klass String \"\" <p>Classes CSS d\u00e9finies pour le composant. Attention, la propri\u00e9t\u00e9 est \"klass\" et non \"class\"!</p> <p>Exemple: <code>klass=\"primary-color\"</code></p>"},{"location":"documentation-map.html#labels","title":"labels","text":"Propri\u00e9t\u00e9 Type D\u00e9faut height String null <p>Alias du nom de chaque champ \u00e0 afficher dans l'infobulle.</p> <p>Exemple: <code>labels=\"INSEE|COMMUNE|EPCI ID|EPCI\"</code></p>"},{"location":"documentation-map.html#layers","title":"layers","text":"Propri\u00e9t\u00e9 Type D\u00e9faut layers String null <p>Liste des layers \u00e0 afficher dans le cas d'un flux WMS.</p> <p>Exemple: <code>layers=\"url=commune_actuelle_3857|commune_actuelle_centroide\"</code></p>"},{"location":"documentation-map.html#layersname","title":"layersname","text":"Propri\u00e9t\u00e9 Type D\u00e9faut layersname String null <p>Liste des noms des layers qui sont affich\u00e9s (pour la l\u00e9gende).</p> <p>Exemple: <code>layersname=\"Communes (poly)|Commmunes (point)\"</code></p>"},{"location":"documentation-map.html#localcss","title":"localcss","text":"Propri\u00e9t\u00e9 Type D\u00e9faut localcss Boolean false <p>Indique si le composant utilise des fichiers CSS locaux ou distants. Ce param\u00e8tre permet notamment de pouvoir utiliser le composant dans un contexte hors ligne. Par d\u00e9faut, les fichiers CSS des biblioth\u00e8ques Bootstrap et Bootstrap Icons sont charg\u00e9es via les liens:</p> <ul> <li>https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css</li> <li>https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css</li> </ul> <p>Si la propri\u00e9t\u00e9 localcss est activ\u00e9e (<code>localcss=\"1\"</code>) alors le composant essaie de charger les fichiers suivants:</p> <ul> <li>\"./bootstrap/css/bootstrap.min.css\"</li> <li>\"./bootstrap-icons/bootstrap-icons.css\"</li> <li>\"./global.css\"</li> </ul> <p>Exemple: <code>localcss=\"1\"</code></p>"},{"location":"documentation-map.html#osm","title":"osm","text":"Propri\u00e9t\u00e9 Type D\u00e9faut osm String false <p>Afficher le fond de carte OSM par d\u00e9faut.</p> <p>Exemple: <code>osm=\"true\"</code></p>"},{"location":"documentation-map.html#queryable","title":"queryable","text":"Propri\u00e9t\u00e9 Type D\u00e9faut queryable String null <p>Nom de la couche interrogeable le cas \u00e9ch\u00e9ant.</p> <p>Exemple: <code>queryable=\"commune_actuelle_3857\"</code></p>"},{"location":"documentation-map.html#styles","title":"styles","text":"Propri\u00e9t\u00e9 Type D\u00e9faut styles String null <p>Styles \u00e0 utiliser pour mettre en forme les layers.</p> <p>Exemple: <code>styles=\"workspace:default\"</code></p>"},{"location":"documentation-map.html#title","title":"title","text":"Propri\u00e9t\u00e9 Type D\u00e9faut title String null <p>Titre du composant.</p> <p>Exemple: <code>title=\"Titre de mon composant DGE text\"</code></p>"},{"location":"documentation-map.html#transparent","title":"transparent","text":"Propri\u00e9t\u00e9 Type D\u00e9faut transparent Boolean true <p>Indique si le WMS affich\u00e9 doit g\u00e9rer la transparence (format <code>image/png</code> attendu dans ce cas).</p> <p>Exemple: <code>transparent=\"false\"</code></p>"},{"location":"documentation-map.html#url","title":"url","text":"Propri\u00e9t\u00e9 Type D\u00e9faut url String null <p>URL des donn\u00e9es (flux WMS ou fichier GeoJson). Fonctionne en lien avec la propri\u00e9t\u00e9 <code>layers</code> pour les flux de type WMS. Une des limites de ce composant est de ne pouvoir afficher des flux que d'un URL unique.</p> <p>Exemple:</p> <ul> <li><code>url=\"./data/departements.geojson\"</code></li> <li><code>url=\"https://www.datagrandest.fr/geoserver/region-grand-est/ows?\"</code></li> </ul>"},{"location":"documentation-map.html#version","title":"version","text":"Propri\u00e9t\u00e9 Type D\u00e9faut version String \"1.1.0\" <p>Version du flux WMS \u00e0 afficher.</p> <p>Exemple: <code>version=\"1.3.0</code></p>"},{"location":"documentation-map.html#zoom","title":"zoom","text":"Propri\u00e9t\u00e9 Type D\u00e9faut zoom Integer 10 <p>Niveau de zoom initial de la carte.</p> <p>Exemple: <code>zoom=\"10\"</code></p>"},{"location":"documentation-map.html#exemples","title":"Exemples","text":"<p>Pour plus de d\u00e9tails, vous pouvez consulter la page de d\u00e9mo.</p>"},{"location":"documentation-start.html","title":"Documentation","text":"","tags":["insiders","brand new"]},{"location":"documentation-start.html#quest-ce-quun-composant-web","title":"Qu'est ce qu'un composant web?","text":"<p>Un composant web est un \u00e9l\u00e9ment HTML que l'on peut int\u00e9grer dans une page web pour introduire une nouvelle fonctionnalit\u00e9 sous la forme d'un \"widget\". Il peut \u00eatre configurer via des param\u00e8tre pr\u00e9d\u00e9finis via lesquels ont passe des valeurs au composant.</p> <p>Voici un premier exemple:</p> <p>Exemple</p> HTMLDataR\u00e9sultat <pre><code>&lt;dge-chart id=\"dge-chart-1\" \n    title=\"Prix des objets de test.csv\"\n    api=\"csv\"\n    url=\"data/test.csv\" \n    x=\"objet\" \n    y=\"prix\" \n    series=\"Prix des objets\" \n    chart=\"bar\" /&gt;\n</code></pre> <pre><code>id;objet;prix\n1;stylo;4.1\n2;cahier;7.2\n3;gomme;5.8\n4;crayon;6.4\n</code></pre> <p> </p>","tags":["insiders","brand new"]},{"location":"documentation-start.html#utilisation-de-dge-dataviz-components","title":"Utilisation de DGE Dataviz Components","text":"<p>Pour utiliser DGE Dataviz Components vous devez tout d'abord t\u00e9l\u00e9charger et int\u00e9grer le code javascript du composant \u00e0 utiliser dans votre page. Pour t\u00e9l\u00e9charger les diff\u00e9rents composants:</p> <ul> <li><code>dge-figure</code>: t\u00e9l\u00e9chargement</li> <li><code>dge-table</code>: t\u00e9l\u00e9chargement</li> <li><code>dge-chart</code>: t\u00e9l\u00e9chargement</li> <li><code>dge-text</code>: t\u00e9l\u00e9chargement</li> <li><code>dge-image</code>: t\u00e9l\u00e9chargement</li> </ul> <p>Vous pouvez \u00e9galement t\u00e9l\u00e9charger l'ensemble des composants sous la forme d'un seul fichier. Cela limite la taille gloable du chargement cumul\u00e9 des diff\u00e9rents composants du fait de la redondance de certaines biblioth\u00e8ques externes entre composants (ex. : \"Papaparse\" et \"AlaSQL\").</p> <ul> <li><code>dge-all</code>: t\u00e9l\u00e9chargement</li> </ul> <p>Le code \u00e0 ajouter \u00e0 votre page web est le suivant (une ligne par composant en adaptant au besoin le chemin vers le fichier):</p> <pre><code>&lt;script defer src='dge-dataviz-components/dge-figure.js'&gt;&lt;/script&gt;\n&lt;script defer src='dge-dataviz-components/dge-table.js'&gt;&lt;/script&gt;\n&lt;script defer src='dge-dataviz-components/dge-image.js'&gt;&lt;/script&gt;\n&lt;script defer src='dge-dataviz-components/dge-text.js'&gt;&lt;/script&gt;\n&lt;script defer src='dge-dataviz-components/dge-chart.js'&gt;&lt;/script&gt;\n&lt;script defer src='dge-dataviz-components/dge-map.js'&gt;&lt;/script&gt;\n</code></pre> <p>Ou:</p> <pre><code>&lt;script defer src='dge-dataviz-components/dge-all.js'&gt;&lt;/script&gt;\n</code></pre> <p>Vous devez ensuite int\u00e9grer le code du composant \u00e0 l'endroit voulu de votre page web et le configurer \u00e0 partir des propri\u00e9t\u00e9s disponibles.  Voici l'exemple du code d'un composant <code>dge-chart</code>:</p> <pre><code>&lt;dge-chart id=\"dge-chart-1\" \n    title=\"Prix des objets de test.csv\"\n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"\n    api=\"csv\"\n    url=\"data/test.csv\" \n    x=\"objet\" \n    y=\"prix\" \n    series=\"Prix des objets\" \n    chart=\"bar\"\n    /&gt;\n</code></pre> <p>Package pour d\u00e9marrer</p> <p>Pour simplifier la mise en oeuvre initiale vous pouvez t\u00e9l\u00e9charger le \"package de d\u00e9marrage\". Il comprend l'ensemble des fichiers n\u00e9cessaires pour d\u00e9buter (framework <code>Bootstrap v5</code> inclu):</p> <ul> <li>Format ZIP</li> <li>Format 7Z</li> </ul>","tags":["insiders","brand new"]},{"location":"documentation-start.html#les-sources-de-donnees","title":"Les sources de donn\u00e9es","text":"<p>DGE Dataviz Components supporte 4 sources de donn\u00e9es:</p> <ul> <li>Les fichiers CSV</li> <li>Les fichiers et API JSON simples (ex.: fonctionne avec l'API NocoDB)</li> <li>L'API Data4Citizen</li> <li>Les flux OGC WFS</li> </ul> <p>Le type de source de donn\u00e9es est pr\u00e9cis\u00e9 par la propri\u00e9t\u00e9 <code>api</code>. Elle peut prendre 4 valeurs diff\u00e9rentes:</p> <ul> <li>\"csv\" : donn\u00e9es provenant d'un fichier CSV</li> <li>\"json\" : donn\u00e9es provenant d'un fichier JSON</li> <li>\"wfs\" : donn\u00e9es provenant d'un flux WFS</li> <li>\"d4c\" : donn\u00e9es provenant d'une plateforme Data4Citizen</li> </ul> <p>Il est \u00e9galement n\u00e9cessaire de pr\u00e9ciser l'URL des donn\u00e9es via la propri\u00e9t\u00e9 <code>url</code> du composant et les jeux de donn\u00e9es \u00e0 r\u00e9ccup\u00e9rer via la propri\u00e9t\u00e9 <code>datasets</code>. Lors de la r\u00e9cup\u00e9ration des donn\u00e9es, le composant essai de deviner le type de champ utilis\u00e9 (\"string\", \"inteder\", \"date\", etc.). Pour cela, la propri\u00e9t\u00e9 <code>dynamicTyping</code> de la biblioth\u00e8que papaparse est utilis\u00e9e</p>","tags":["insiders","brand new"]},{"location":"documentation-start.html#fichier-csv","title":"Fichier CSV","text":"<p>Les fichiers CSV doivent avoir la structure suivante.</p> <pre><code>id;objet;prix\n1;stylo;4.1\n2;cahier;7.2\n3;gomme;5.8\n4;crayon;6.4\n</code></pre>","tags":["insiders","brand new"]},{"location":"documentation-start.html#fichier-et-api-json","title":"Fichier et API JSON","text":"<p>DGE Dataviz Components ne supporte pas les structures de donn\u00e9es complexes. Les fichiers JSON doivent \u00eatre \u00e0 plat sur le mod\u00e8le suivant.</p> <pre><code>[\n{ \"id\": 1,\n\"contenance\": 256,\n\"type\": 0\n}, { \"id\": 2,\n\"contenance\": 212,\n\"type\": 1\n}, { ...  }, { \"id\": 7,\n\"contenance\": 198,\n\"type\": 1\n}\n]\n</code></pre> <p>Il en est de m\u00eame pour les fichiers provenant des API qui renvoie des donn\u00e9es au format JSON.</p> <p>Dans le cas d'une structuration plus complexe, il est n\u00e9cessaire de pr\u00e9voir une conversion des donn\u00e9es. Dans les cas simples, l'utilisation d'un fichier PHP r\u00e9cup\u00e9rant les donn\u00e9es source via la fonction <code>file_get_contents()</code>, les transformant puis les renvoyant au format JSON (header adapt\u00e9) via la fonction <code>json_encode()</code> peut suffir. Dans les cas plus complexe, le recourt \u00e0 la biblioth\u00e8que <code>cURL</code> peut \u00eatre pr\u00e9f\u00e9rable.</p>","tags":["insiders","brand new"]},{"location":"documentation-start.html#flux-ogc-wfs","title":"Flux OGC WFS","text":"<p>DGE Dataviz Components peut int\u00e9grer des donn\u00e9es provenant de flux WFS. Seules les donn\u00e9es attributaires pr\u00e9cis\u00e9es dans la propri\u00e9t\u00e9 <code>fields</code> sont r\u00e9cup\u00e9r\u00e9es du serveur. Les tests ont \u00e9t\u00e9 r\u00e9lalis\u00e9s \u00e0 partir de GeoServer. Dans ce cas, il est n\u00e9cessaire d'indiquer l'URL du WFS dans la propri\u00e9t\u00e9 <code>url</code> (en pr\u00e9cisant de pr\u00e9f\u00e9rence le \"workspace\") et le nom du layer dans la propri\u00e9t\u00e9 <code>datasets</code>. Par d\u00e9faut, GeoServer renvoie uniquement les 50 premiers objects du flux. Il est donc n\u00e9cessaire le cas \u00e9ch\u00e9ant de pr\u00e9ciser le nombre maximum d'objets \u00e0 retourner via la propri\u00e9t\u00e9 <code>max</code>.</p> <p>Exemple:</p> <pre><code>&lt;...\napi=\"wfs\" \nurl=\"https://www.datagrandest.fr/geoserver/region-grand-est/wfs\" \ndatasets=\"propriete_fonciere_region\" \nmax=\"200\"\n... /&gt;\n</code></pre>","tags":["insiders","brand new"]},{"location":"documentation-start.html#api-data4citizen-d4c","title":"API Data4Citizen (D4C)","text":"<p>Le principe est similaire \u00e0 celui des flux WFS en indiquant \"d4c\" comme nom d'api, l'URL du serveur pour la propri\u00e9t\u00e9 <code>url</code> et le nom de la donn\u00e9es comme <code>datasets</code>.  </p> <pre><code>&lt;...\napi=\"d4c\" \nurl=\"https://dev.datagrandest.fr/data4citizen/d4c/api/records/1.0/search\"\ndatasets=\"zonages-administratifs-cantons-haute-marne\"\nmax=\"500\"\n.../&gt;\n</code></pre>","tags":["insiders","brand new"]},{"location":"documentation-start.html#css-et-mise-en-forme","title":"CSS et mise en forme","text":"<p>Les CSS charg\u00e9s dans le page HTML qui int\u00e8gre les composants n'influent pas sur la mise en forme des composants. Ces derniers chargent par d\u00e9faut les fichiers suivants:</p> <ul> <li>Bootstrap: https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css</li> <li>Bootstrap Icons: https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css</li> </ul> <p>La propri\u00e9t\u00e9 <code>localcss=\"true\"</code> permet cependant de charger ses propres fichiers CSS. Elle indique au composant de charger successivement les fichiers:</p> <ul> <li><code>./dist/bootstrap/css/bootstrap.min.css</code></li> <li><code>./dist/bootstrap-icons/bootstrap-icons.css</code></li> <li><code>./dist/global.css</code></li> </ul> <p>Il est ainsi possible d'utiliser une mise en forme fournie par Bootwatch en pla\u00e7ant le fichier <code>bootstrap.min.css</code> sur le serveur dans le dossier <code>./dist/bootstrap/css/</code>. Le fichier <code>./dist/global.css</code> permet quant \u00e0 lui g\u00e9n\u00e9ralement de sp\u00e9cifier des mises en formes ponctuelles. A noter que certaines balises des \u00e9l\u00e9ments des composants web contiennent des classes qui peuvent \u00eatre utilis\u00e9es dans le fichier <code>global.css</code>.</p> <p>De m\u00eame chaque composant poss\u00e8de 2 proprit\u00e9 permtennat d'interagir directement avec la mise en forme:</p> <ul> <li>La propri\u00e9t\u00e9 <code>id=...</code> qui d\u00e9finit l'identifiant CSS du composant.</li> <li>La propri\u00e9t\u00e9 <code>klass=...</code> qui d\u00e9finit les classes CSS associ\u00e9es au composant (avec un \"k\" et non un \"c\").</li> </ul> <p>Exemple:</p> <pre><code>#dge-figure-1 {\nborder: 0;\n}\n\n#dge-figure-1 h2 {\ncolor: #592;\nfont-weight: bold;\n}\n</code></pre> <p>Pour plus de d\u00e9tail sur la structure des composants, vous pouvez utiliser la console de d\u00e9veloppement de votre navigateur accessible via la touche F12.</p>","tags":["insiders","brand new"]},{"location":"documentation-table.html","title":"DGE table","text":"<p>Un composant pour afficher facilement un tableau.</p>"},{"location":"documentation-table.html#liste-des-proprietes","title":"Liste des propri\u00e9t\u00e9s","text":"<p>Il existe 4 grands types de propri\u00e9t\u00e9s:</p> <ul> <li>\"String\": cha\u00eene de caract\u00e8res (ex.: <code>title=\"Un titre\"</code>) </li> <li>\"Integer\": Un nombre (ex.: <code>decimal=\"3\"</code>) </li> <li>\"Boolean\": une valeur binaire (vrai ou faux): \"true\"/\"false\" (ex.: <code>localcss=\"true\"</code>) </li> <li>\"Objects\": ensemble de couples cl\u00e9/valeur inclus dans une propri\u00e9t\u00e9 (Ex.: <code>property=\"att1:value1;att2:value2;att3:value3...\"</code>). Dans ce cas, vous trouverez dans la documentation un tableau qui pr\u00e9cise la nature de chaque attribut attendu. Pour certains attributs, ils peuvent aussi exister sous forme de propri\u00e9t\u00e9 individuelle (ex: <code>attribution=\"text:DataGrandEst\"</code> est \u00e9quivalent \u00e0 <code>attributiontext=\"DataGrandEst\"</code>)</li> </ul> <p>Il est important de respecter le type de valeur attendu par les propri\u00e9t\u00e9s et attributs pour le bon fonctionnement des composants web.</p> <p>Par ailleurs, le traitement des donn\u00e9es se fait via des requ\u00eates SQL qui s'apuient sur des mots-cl\u00e9s r\u00e9serv\u00e9s (cf. https://github.com/agershun/alasql/wiki/AlaSQL%2DKeywords ). Ils ne devraient pas \u00eatre utilis\u00e9s comme nom de champs. Une solution de contournement existe en \"\u00e9chappant\" c'est noms de champs avec <code>fieldname</code> ou <code>[fieldname]</code> (ex.: <code>operation=\"sum|</code>value<code>\"</code>).</p>"},{"location":"documentation-table.html#api","title":"api","text":"Propri\u00e9t\u00e9 Type D\u00e9faut api String \"json\" <p>Typde de source de donn\u00e9es. Les valeurs possibles sont:</p> <ul> <li>\"json\": fichier JSON</li> <li>\"csv\": fichier CSV</li> <li>\"wfs\": flux WFS</li> <li>\"dc4\": API provenant d'une plateforme Data4Citizen</li> </ul> <p>Exemple: <code>api=\"csv\"</code></p>"},{"location":"documentation-table.html#attribution","title":"attribution","text":"Propri\u00e9t\u00e9 Type D\u00e9faut attribution Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9  \u00e9quivalente Description text String null attributiontext Texte \u00e0 afficher qude support au lien vers le site indiqu\u00e9 (cf. attribut <code>url</code>) icon String null attributionicon Nom de l'\u00eecon (cf. biblioth\u00e8que \"Bootstrap Icons v1.7.x\") prefix String null attributionprefix Texte prefixant l'attribut <code>text</code> url String null attributionurl Lien vers un site internet size String 1rem attributionsize Taille de l'icon. L'unit\u00e9 doit \u00eatre pr\u00e9cis\u00e9e (ex.: \"1.5rem\" ou \"18px\") color String #000 attributioncolor Couleur de l'icon (ex.: \"#393\" ou \"#99564c\" ou \"rgba(50,200,35,0.6)\") title String text attributiontitle Titre du texte ou de l'icon qui appra\u00eet au survol par la souris <p>Sources des donn\u00e9es utilis\u00e9es par le composant.  Cette propri\u00e9t\u00e9 est de type object et se compose d'une liste d'attributs permettant de pr\u00e9ciser le texte ou l'icon \u00e0 afficher, l'URL, etc.</p> <p>Exemple: <code>attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"</code></p>"},{"location":"documentation-table.html#columns","title":"columns","text":"Propri\u00e9t\u00e9 Type D\u00e9faut columns String false <p>Ordre des champs pour l'affichage des colonnes de la table.</p> <p>Exemples: - <code>columns=\"id,ville,population\"</code> - <code>columns=\"commandes.id|objets.objet|objets.couleur|commandes.quantite|objets.prix|commandes.quantite*objets.prix,cout|contacts.nom\"</code></p>"},{"location":"documentation-table.html#datalink","title":"datalink","text":"Propri\u00e9t\u00e9 Type D\u00e9faut datalink Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9  \u00e9quivalente Description text String null datalinktext Texte \u00e0 afficher comme support au lien vers le site indiqu\u00e9 (cf. attribut <code>url</code>) icon String null datalinkicon Nom de l'\u00eecon (cf. biblioth\u00e8que \"Bootstrap Icons v1.7.x\") prefix String null datalinkprefix Texte prefixant l'attribut <code>text</code> url String null datalinkurl Lien vers un site internet size String 1rem datalinksize Taille de l'icon. L'unit\u00e9 doit \u00eatre pr\u00e9cis\u00e9e (ex.: \"1.5rem\" ou \"18px\") color String #000 datalinkcolor Couleur de l'icon (ex.: \"#393\" ou \"#99564c\" ou \"rgba(50,200,35,0.6)\") title String text datalinktitle Titre du texte ou de l'icon qui appra\u00eet au survol par la souris <p>Propri\u00e9t\u00e9 permettant de pr\u00e9ciser sous forme de texte ou d'icon un lien vers les donn\u00e9es sources.</p> <p>Exemples: </p> <ul> <li><code>icon=\"text:data;url:https://datagrandest.fr/public/data/villes.csv\"</code></li> <li><code>icontext=\"data\" iconurl=\"https://datagrandest.fr/public/data/villes.csv\"</code></li> </ul>"},{"location":"documentation-table.html#datasets","title":"datasets","text":"Propri\u00e9t\u00e9 Type D\u00e9faut datasets String false <p>Nom du ou des jeux de donn\u00e9es utilis\u00e9s. Si plusieurs jeux de donn\u00e9es sont pr\u00e9cis\u00e9s (exemples: plusieurs fichiers JSON ou CSV) il doivent \u00eatre s\u00e9pr\u00e9s par un \"|\" et provenir de la m\u00eame source (propri\u00e9t\u00e9 <code>url</code>).</p> <p> Pour un flux WFS il s'agit du ou des noms des couches de donn\u00e9es (\"layer\").  Pour un fichier JSON ou CSV il s'agit du ou des noms de fichiers, extension comprise.</p> <p>Un alias peut \u00eatre donn\u00e9 aux datasets, notamment lors de l'utilisation de plusieurs sources de donn\u00e9es. Il permet, comme dans le language SQL de pr\u00e9fixer le nom des champs dans d'autres propri\u00e9t\u00e9 (<code>where</code>, <code>from</code>, etc.) et \u00e9viter les confusions. </p> <p>Exemples:</p> <ul> <li><code>datasets=\"commune_actuelle\"</code></li> <li><code>datasets=\"commandes.csv,cmd|contact.csv,cnt\"</code></li> </ul>"},{"location":"documentation-table.html#displaytotal","title":"displaytotal","text":"Propri\u00e9t\u00e9 Type D\u00e9faut displaytotal String false <p>Propri\u00e9t\u00e9 permettant d'afficher le nombre de lignes total en dessous du tableau.</p> <p>Exemple: <code>dsplaytotal=\"1\"</code></p>"},{"location":"documentation-table.html#displaypagination","title":"displaypagination","text":"Propri\u00e9t\u00e9 Type D\u00e9faut displaypagination String false <p>Propri\u00e9t\u00e9 permettant d'afficher la pagination en bas de page.</p> <p>Exemple: <code>displaypagination=\"1\"</code></p>"},{"location":"documentation-table.html#fields","title":"fields","text":"Propri\u00e9t\u00e9 Type D\u00e9faut fields String false <p>Liste des champs renvoy\u00e9 lors de la r\u00e9cup\u00e9ration des donn\u00e9es. Cette propri\u00e9t\u00e9 est obligatoire dans le cas de l'utilisation de plusieurs datasets.  La liste doit d'ailleurs dans ce cas respecter l'ordre des sources de donn\u00e9es d\u00e9finies dans la propri\u00e9t\u00e9 <code>datasets=\"\"</code>.</p> <p>Cette propri\u00e9t\u00e9 est \u00e9galement conseill\u00e9e pour les flux WFS. Elle permet d'all\u00e9ger le volume de donn\u00e9es en \u00e9vitant que le serveur renvoi les g\u00e9om\u00e9tries au format GeoJSON.  Ce param\u00e8tre n'a pas d'influence avec les sources de donn\u00e9es Data4Citizen et les fichiers JSON et CSV.</p> <p>Le s\u00e9parateur de champ est \",\". Si plusieurs datasets sont pr\u00e9cis\u00e9s, les champs doivent \u00eatre indiqu\u00e9 dans l'ordre des datasets, s\u00e9par\u00e9s par des \"|\".</p> <p>Exemples: </p> <ul> <li><code>fields=\"id,code,name,color\"</code></li> <li><code>fields=\"id,code_id,name,color|id,code,value\"</code></li> </ul>"},{"location":"documentation-table.html#filter","title":"filter","text":"<p>Affichage d'une liste de s\u00e9lection pour filtrer les donn\u00e9es.</p> Propri\u00e9t\u00e9 Type D\u00e9faut filter String false <p>Ce param\u00e8tre se compose de 3 parties:</p> <ul> <li>Le texte \u00e0 afficher par d\u00e9faut quand aucune valeur n'est s\u00e9lectionn\u00e9e (si cette valeur est vide, aucune valeur par d\u00e9faut n'est utilis\u00e9e)</li> <li>Le champ \u00e0 utiliser pour le filtre</li> <li>Eventuellement une valeur de filtre pr\u00e9d\u00e9finie</li> </ul> <p>Exemples:</p> <ul> <li><code>filter=\"S\u00e9lectionner un EPCI|epci\"</code></li> <li><code>filter=\"S\u00e9lectionner une commune|f4|Strasbourg\"</code></li> <li><code>filter=\"|year|\"</code></li> </ul>"},{"location":"documentation-table.html#from","title":"from","text":"Propri\u00e9t\u00e9 Type D\u00e9faut from String false <p>Propri\u00e9t\u00e9 qui permet dans le cas de l'utilisation de plusieurs datasets de pr\u00e9ciser la jointure entre les sources de donn\u00e9es.  Elle est \u00e9quivalente \u00e0 la partie \"FROM\" de la requ\u00eate SQL ou le nom des tables est remplac\u00e9 par des \"?\", en respectant l'ordre d\u00e9fini dans la propri\u00e9t\u00e9 <code>datasets=\"\"</code>.</p> <p>Exemple: <code>? AS table1 join ? AS table2 ON table1.field2=table2.field1 JOIN ? AS table3 ON table1.field3=table3.field1</code></p>"},{"location":"documentation-table.html#groupby","title":"groupby","text":"Propri\u00e9t\u00e9 Type D\u00e9faut groupby String false <p>Propri\u00e9t\u00e9 permettant de grouper les r\u00e9sultats selon un champ (une \"cat\u00e9gorie\" ou un \"type\" par exemple). </p> <p>Pour les graphiques, elle fonctionne en g\u00e9n\u00e9ral conjointement \u00e0 une formule de regroupement sur les ordonn\u00e9es (ex.: <code>y=\"SUM(values)\"</code>).  Les formulaes de regroupement sont celles du SQL: \"SUM\", \"MIN\", \"MAX\", \"COUNT\", \"AVG\".</p> <p>Exemples: <code>groupby=\"category\"</code></p>"},{"location":"documentation-table.html#having","title":"having","text":"Propri\u00e9t\u00e9 Type D\u00e9faut having String false <p>Propri\u00e9t\u00e9 fonctionnant en lien avec <code>groupby=\"\"</code> (et <code>y=\"\"</code>). Comme dans le cadre des requ\u00eates SQL, elle permet de r\u00e9aliser un filtre sur le r\u00e9sultat d'un regroupement, l\u00e0 ou la propri\u00e9t\u00e9 <code>where=\"\"</code> permet un filtre sur les \u00e9l\u00e9ments retourn\u00e9s avant leur regroupement.  On aura donc conjointement par exemple: <code>y=\"SUM(values),somme\" groupby=\"categorie\" having=\"somme&gt;100\"</code>.</p> <p>Exemple: <code>having=\"somme&gt;100\"</code></p>"},{"location":"documentation-table.html#id","title":"id","text":"Propri\u00e9t\u00e9 Type D\u00e9faut id String \"dge-figure\" <p>Identifiant du composant. Il peut \u00eatre utilis\u00e9 pour appliquer une mise en forme sp\u00e9cifique via du CSS.</p> <p>Exemple: <code>id=\"dge-figure-1\"</code></p>"},{"location":"documentation-table.html#klass","title":"klass","text":"Propri\u00e9t\u00e9 Type D\u00e9faut klass String \"\" <p>Classes CSS d\u00e9finies pour le composant. Attention, la propri\u00e9t\u00e9 est \"klass\" et non \"class\"!</p> <p>Exemple: <code>klass=\"primary-color\"</code></p>"},{"location":"documentation-table.html#localcss","title":"localcss","text":"Propri\u00e9t\u00e9 Type D\u00e9faut localcss Boolean false <p>Indique si le composant utilise des fichiers CSS locaux ou distants. Ce param\u00e8tre permet notamment de pouvoir utiliser le composant dans un contexte hors ligne. Par d\u00e9faut, les fichiers CSS des biblioth\u00e8ques Bootstrap et Bootstrap Icons sont charg\u00e9es via les liens:</p> <ul> <li>https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css</li> <li>https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css</li> </ul> <p>Si la propri\u00e9t\u00e9 localcss est activ\u00e9e (<code>localcss=\"1\"</code>) alors le composant essaie de charger les fichiers suivants:</p> <ul> <li>\"./bootstrap/css/bootstrap.min.css\"</li> <li>\"./bootstrap-icons/bootstrap-icons.css\"</li> <li>\"./global.css\"</li> </ul> <p>Exemple: <code>localcss=\"1\"</code></p>"},{"location":"documentation-table.html#labels","title":"labels","text":"Propri\u00e9t\u00e9 Type D\u00e9faut labels String false <p>Alias des noms de colonnes \u00e0 afficher dans l'ordre des colonnes d\u00e9finies par la propri\u00e9t\u00e9 <code>columns</code>.</p> <p>Exemples:</p> <ul> <li><code>labels=\"ID|VILLE|POP. (HAB.)\"</code></li> <li><code>labels=\"ID|OBJET|COULEUR|QUANTITE|PRIX (\u20ac)|COUT (\u20ac)|CONTACT\"</code></li> </ul>"},{"location":"documentation-table.html#max","title":"max","text":"Propri\u00e9t\u00e9 Type D\u00e9faut max Integer false <p>Nombre d'entit\u00e9 \u00e0 retourner lors de l'appel \u00e0 l'API. Cette propri\u00e9t\u00e9 est notamment \u00e0 utiliser avec les API <code>wfs</code> et <code>d4c</code> quilimitent par d\u00e9faut le nombre de donn\u00e9es retourn\u00e9es.</p> <p>Exemple: <code>max=\"500\"</code></p>"},{"location":"documentation-table.html#orderby","title":"orderby","text":"Propri\u00e9t\u00e9 Type D\u00e9faut orderby String false <p>Propri\u00e9t\u00e9 qui permet de trier et afficher les r\u00e9sultats d'une requ\u00eate par ordre croissant (<code>ASC</code>) ou d\u00e9croissant (<code>DESC</code>) selon un ou plusieurs champs (s\u00e9parateur \"|\").</p> <p>Exemple: <code>orderby=\"type,DESC\"</code></p>"},{"location":"documentation-table.html#page","title":"page","text":"Propri\u00e9t\u00e9 Type D\u00e9faut page String false <p>Propri\u00e9t\u00e9 permettant d'indiquer la page \u00e0 afficher au chargement du composant.</p> <p>Exemple: <code>page=\"2\"</code></p>"},{"location":"documentation-table.html#pagination","title":"pagination","text":"Propri\u00e9t\u00e9 Type D\u00e9faut pagination Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9  \u00e9quivalente Description display String false displaypagination Afficher la pagination en bas de page perpage Integer 10 perpage Nombre de ligne \u00e0 afficher par page page Integer 1 page Premi\u00e8re page \u00e0 afficher au chargement du composant selectpages String \"5,10,25,50,100\" selectpages Liste du nombre de lignes \u00e0 afficher par page dans la table <p>Propri\u00e9t\u00e9 permettant d'afficher une barre de pagination sous le tableau. Elle reprend sous forme globale avec des attributs les propri\u00e9t\u00e9s <code>displaypagination</code>, <code>perpage</code>, <code>page</code> et <code>selectpages</code>.</p> <p>Exemples: </p> <ul> <li><code>pagination=\"display:true;perpage:5\"</code></li> <li><code>displaypagination=\"1\" page=\"2\"</code></li> </ul>"},{"location":"documentation-table.html#parsehtml","title":"parsehtml","text":"Propri\u00e9t\u00e9 Type D\u00e9faut parsehtml Boolean false <p>Propri\u00e9t\u00e9 permettant d'analyser les valeurs de la table et de les afficher au format HTML le cas \u00e9ch\u00e9ant.</p> <p>Ainsi:</p> <ul> <li>Toute valeur commen\u00e7ant par la cha\u00eene \"http\" est int\u00e9pr\u00e9t\u00e9 comme un URL et un lien est cr\u00e9\u00e9 automatiquement.</li> <li>Toute balise HTML est interpr\u00e9t\u00e9e. La valeur <code>&lt;b&gt;en gras&lt;/b&gt;</code> sera alors affich\u00e9e en gras.</li> </ul> <p>Exemple: <code>parsehtml=\"true\"</code> pour activer la reonnaissance des liens et balises HTML</p>"},{"location":"documentation-table.html#perpage","title":"perpage","text":"Propri\u00e9t\u00e9 Type D\u00e9faut perpage String false <p>Propri\u00e9t\u00e9 permettant d'indiquer le nombre de ligne \u00e0 afficher par page.</p> <p>Exemple: <code>perpage=\"25\"</code></p>"},{"location":"documentation-table.html#properties","title":"properties","text":"Propri\u00e9t\u00e9 Type D\u00e9faut properties String false <p>Chemin vers la propri\u00e9t\u00e9 contenant la liste des donn\u00e9es \u00e0 utiliser dans le r\u00e9sultat de la requ\u00eate. Les propri\u00e9t\u00e9s doivent \u00eatre s\u00e9par\u00e9es par un point \".\". Si plusieurs jeux de donn\u00e9es sont concern\u00e9s, le s\u00e9parateur entre les jeux de don\u00e9nes est \"|\".</p> <p>Exemples: </p> <ul> <li><code>properties=\"list\"</code></li> <li><code>properties=\"|list|records.data\"</code></li> </ul>"},{"location":"documentation-table.html#refresh","title":"refresh","text":"Propri\u00e9t\u00e9 Type D\u00e9faut refresh Integer false <p>Propri\u00e9t\u00e9 permettant de recharger r\u00e9guli\u00e8rement les donn\u00e9es pour mettre \u00e0 jour la table \u00e0 interval de temps r\u00e9gulier sans recharger la page (l'interval est exprim\u00e9 en secondes). Cela peut-\u00eatre utile notamment dans le cas de donn\u00e9es mises \u00e0 jour en temps r\u00e9el. Si plusieurs sources de donn\u00e9es sont indiqu\u00e9es, le rafraichissement est valable pour l'ensemble des datasets.</p> <p>Exemple: <code>refresh=\"60\"</code> pour une mise \u00e0 jour toutes les minutes</p>"},{"location":"documentation-table.html#search","title":"search","text":"Propri\u00e9t\u00e9 Type D\u00e9faut search String false <p>Affichage d'une barre de recherche pour filtrer les donn\u00e9es.</p> <p>Ce param\u00e8tre se compose de 3 parties:</p> <ul> <li>Le texte \u00e0 afficher par d\u00e9faut dans la barre de recherche</li> <li>Le champ \u00e0 utiliser pour le filtre</li> <li>Eventuellement une valeur de filtre pr\u00e9d\u00e9finie</li> </ul> <p>Dans le cas de l'utilisation de la propri\u00e9t\u00e9 <code>sql</code>, il faut utiliser ici le nom de l'alias du champ de recherche.</p> <p>Exemples:</p> <ul> <li><code>search=\"Rechercher un EPCI|epci\"</code></li> <li><code>search=\"Rechercher une commune|f4|Str\"</code></li> </ul>"},{"location":"documentation-table.html#selectpages","title":"selectpages","text":"Propri\u00e9t\u00e9 Type D\u00e9faut selectpages String \"5,10,25,50,100\" <p>Propri\u00e9t\u00e9 permettant de d\u00e9finir la liste du nombre de lignes \u00e0 afficher via la pagination.</p> <p>Exemple: <code>selectpages=\"6,12,24,48,96\"</code></p>"},{"location":"documentation-table.html#sortcolumns","title":"sortcolumns","text":"Propri\u00e9t\u00e9 Type D\u00e9faut sortcolumns String \"\" <p>Activier le tri sur certaines colonnes du tableau indiqu\u00e9es avec le s\u00e9parateur ',' (une double fl\u00eache appara\u00eet \u00e0 droite du titre de la colonne). Pour activer le tri sur toutes les colonnes utiliser <code>sortcolumns=\"true\"</code>.</p> <p>Exemple: <code>sortcolumns=\"nom, prenom, cmd_id\"</code></p>"},{"location":"documentation-table.html#smalltable","title":"smalltable","text":"Propri\u00e9t\u00e9 Type D\u00e9faut smalltable String false <p>Propri\u00e9t\u00e9 permettant de r\u00e9duire l'espaces autour du texte dans le tableau pour le compacter afin qu'il prenne moins de place sur la page.</p> <p>Exemple: <code>smalltable=\"1\"</code></p>"},{"location":"documentation-table.html#title","title":"title","text":"Propri\u00e9t\u00e9 Type D\u00e9faut title String null <p>Titre du composant. Si le param\u00e8tre <code>filter</code> ou <code>search</code> est utilis\u00e9e, la valeur recherch\u00e9 peut \u00eatre affich\u00e9 respectivement via les variables <code>%filter%</code> et <code>%search%</code>.  </p> <p>Des variables calacul\u00e9es \u00e0 partir des donn\u00e9es peuvent \u00e9galement \u00eatre ajout\u00e9es dans le titre. Elles sont de la forme <code>%operation,decimal,[line],[field]%</code>. Une seule variable peut \u00eatre utilis\u00e9e par ligne de texte. - operation: \"sum\", \"min\", \"max\", \"average\", \"percent\", \"value\" - decimal: nombre de d\u00e9cimal \u00e0 afficher - line: selection de la ligne ou valeur \u00e0 afficher dans la s\u00e9rie - field: colonne \u00e0 s\u00e9lectionner pour d\u00e9finir la s\u00e9rie \u00e0 afficher (dans le cas de <code>dge-table</code>)</p> <p>Exemples: </p> <ul> <li><code>title=\"Evolution de la population par commune\"</code></li> <li><code>title=\"Nombre de projets pour l'ann\u00e9e %filter%\"</code> affiche \"Nombre de projets pour l'ann\u00e9e 2006\" si on a ajouter un param\u00e8tre <code>filter</code> et si la valeur \"2006\" est s\u00e9lectionn\u00e9e dans la liste</li> <li><code>title=\"Total: %sum,0,0,cout%\"</code></li> </ul>"},{"location":"documentation-table.html#url","title":"url","text":"Propri\u00e9t\u00e9 Type D\u00e9faut url String false <p>URL de la source de donn\u00e9es (cf. la propri\u00e9t\u00e9 <code>api</code> pour conna\u00eetres les sources de donn\u00e9es possibles).</p> <p> Pour les flux WFS, le workspace doit \u00eatre pr\u00e9cis\u00e9.  Pour les fichiers JSON et CSV, le nom du fichier peut \u00eatre indiqu\u00e9 dans la propri\u00e9t\u00e9 <code>datasets</code>.</p> <p>Exemples:</p> <ul> <li><code>url=\"https://www.datagrandest.fr/geoserver/region-grand-est/wfs\"</code></li> <li><code>url=\"https://dev.datagrandest.fr/data4citizen/d4c/api/records/1.0/search\"</code></li> <li><code>url=\"./data/test.json\"</code></li> <li><code>url=\"https://www.datagrandest.fr/tools/dge-dataviz-components/dge-components/data/test.csv\"</code></li> </ul>"},{"location":"documentation-table.html#where","title":"where","text":"Propri\u00e9t\u00e9 Type D\u00e9faut where String false <p>Filtre appliqu\u00e9 sur les donn\u00e9es r\u00e9cup\u00e9r\u00e9es. Il correspond \u00e0 la partie \"WHERE\" de la requ\u00eate SQL. Si la valeur recherch\u00e9e est une cha\u00efne de caract\u00e8res il faut l'encadrer avec des apostrophes (\"'\"). Cla n'est pas n\u00e9cessaire pour les nombres. La conversion des cha\u00eenes en nombre peux d\u00e9pendre de la source de donn\u00e9es.</p> <p>Exemples: </p> <ul> <li><code>where=\"commande=3</code></li> <li><code>where=\"object='cahier'</code></li> </ul>"},{"location":"documentation-table.html#exemples","title":"Exemples","text":"<p>Pour plus de d\u00e9tails, vous pouvez consulter la page de d\u00e9mo.</p>"},{"location":"documentation-text.html","title":"DGE text","text":"<p>Un composant pour afficher facilement du texte.</p>"},{"location":"documentation-text.html#liste-des-proprietes","title":"Liste des propri\u00e9t\u00e9s","text":"<p>Il existe 4 grands types de propri\u00e9t\u00e9s:</p> <ul> <li>\"String\": cha\u00eene de caract\u00e8res (ex.: <code>title=\"Un titre\"</code>) </li> <li>\"Integer\": Un nombre (ex.: <code>decimal=\"3\"</code>) </li> <li>\"Boolean\": une valeur binaire (vrai ou faux): \"true\"/\"false\" (ex.: <code>localcss=\"true\"</code>) </li> <li>\"Objects\": ensemble de couples cl\u00e9/valeur inclus dans une propri\u00e9t\u00e9 (Ex.: <code>property=\"att1:value1;att2:value2;att3:value3...\"</code>). Dans ce cas, vous trouverez dans la documentation un tableau qui pr\u00e9cise la nature de chaque attribut attendu. Pour certains attributs, ils peuvent aussi exister sous forme de propri\u00e9t\u00e9 individuelle (ex: <code>attribution=\"text:DataGrandEst\"</code> est \u00e9quivalent \u00e0 <code>attributiontext=\"DataGrandEst\"</code>)</li> </ul> <p>Il est important de respecter le type de valeur attendu par les propri\u00e9t\u00e9s et attributs pour le bon fonctionnement des composants web.</p>"},{"location":"documentation-text.html#attribution","title":"attribution","text":"Propri\u00e9t\u00e9 Type D\u00e9faut attribution Object false Attribut Type D\u00e9faut Propri\u00e9t\u00e9  \u00e9quivalente Description text String null attributiontext Texte \u00e0 afficher comme support au lien vers le site indiqu\u00e9 (cf. attribut <code>url</code>) icon String null attributionicon Nom de l'\u00eecon (cf. biblioth\u00e8que \"Bootstrap Icons v1.7.x\") prefix String null attributionprefix Texte prefixant l'attribut <code>text</code> url String null attributionurl Lien vers un site internet size String 1rem attributionsize Taille de l'icon. L'unit\u00e9 doit \u00eatre pr\u00e9cis\u00e9e (ex.: \"1.5rem\" ou \"18px\") color String #000 attributioncolor Couleur de l'icon (ex.: \"#393\" ou \"#99564c\" ou \"rgba(50,200,35,0.6)\") title String text attributiontitle Titre du texte ou de l'icon qui appra\u00eet au survol par la souris <p>Sources des donn\u00e9es utilis\u00e9es par le composant.  Cette propri\u00e9t\u00e9 est de type object et se compose d'une liste d'attributs permettant de pr\u00e9ciser le texte ou l'icon \u00e0 afficher, l'URL, etc.</p> <p>Exemple: <code>attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"</code></p>"},{"location":"documentation-text.html#id","title":"id","text":"Propri\u00e9t\u00e9 Type D\u00e9faut id String \"dge-text\" <p>Identifiant du composant. Il peut \u00eatre utilis\u00e9 pour appliquer une mise en forme sp\u00e9cifique via du CSS.</p> <p>Exemple: <code>id=\"dge-text-1\"</code></p>"},{"location":"documentation-text.html#klass","title":"klass","text":"Propri\u00e9t\u00e9 Type D\u00e9faut klass String \"\" <p>Classes CSS d\u00e9finies pour le composant. Attention, la propri\u00e9t\u00e9 est \"klass\" et non \"class\"!</p> <p>Exemple: <code>klass=\"primary-color\"</code></p>"},{"location":"documentation-text.html#localcss","title":"localcss","text":"Propri\u00e9t\u00e9 Type D\u00e9faut localcss Boolean false <p>Indique si le composant utilise des fichiers CSS locaux ou distants. Ce param\u00e8tre permet notamment de pouvoir utiliser le composant dans un contexte hors ligne. Par d\u00e9faut, les fichiers CSS des biblioth\u00e8ques Bootstrap et Bootstrap Icons sont charg\u00e9es via les liens:</p> <ul> <li>https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css</li> <li>https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css</li> </ul> <p>Si la propri\u00e9t\u00e9 localcss est activ\u00e9e (<code>localcss=\"1\"</code>) alors le composant essaie de charger les fichiers suivants:</p> <ul> <li>\"./bootstrap/css/bootstrap.min.css\"</li> <li>\"./bootstrap-icons/bootstrap-icons.css\"</li> <li>\"./global.css\"</li> </ul> <p>Exemple: <code>localcss=\"1\"</code></p>"},{"location":"documentation-text.html#text","title":"text","text":"Propri\u00e9t\u00e9 Type D\u00e9faut text String null <p>Text \u00e0 afficher dans le composant.</p> <p>Exemple: <code>text=\"Texte de mon composant...\"</code></p>"},{"location":"documentation-text.html#title","title":"title","text":"Propri\u00e9t\u00e9 Type D\u00e9faut title String null <p>Titre du composant.</p> <p>Exemple: <code>title=\"Titre de mon composant DGE text\"</code></p>"},{"location":"documentation-text.html#lutilisation-des-slots","title":"L'utilisation des <code>slots</code>","text":"<p>Le contenu du composant peut \u00e9galement \u00eatre d\u00e9fini via un <code>slot</code>. Cela permet d'ajouter du code HTML pour mettre en forme le conteu du composant. Pour cela, il faut ajouter entre les balises du composant un \u00e9l\u00e9ment HTML poss\u00e9dant une propri\u00e9t\u00e9 <code>slot=\"text\"</code>. Cet \u00e9l\u00e9ment devra contenir \u00e0 son tour le code HTML a afficher dans le composant.</p> <p>Exemple:</p> <pre><code>&lt;dge-text id=\"dge-text-2\"&gt;\n    &lt;div slot=\"text\"&gt;\n        &lt;h5&gt;Le titre de mon texte dans le &lt;em&gt;slot&lt;/em&gt;&lt;/h5&gt;\n        &lt;p class=\"m-0 p-0\"&gt;Le texte avec un &lt;em&gt;slot&lt;/em&gt; de mise en forme...&lt;br /&gt;\n            et la possibilit\u00e9 d'utiliser du &lt;em&gt;HTML&lt;/em&gt;, par exemple ajouter un bouton.\n        &lt;/p&gt;\n        &lt;button type=\"button\" class=\"btn btn-primary mt-3 float-right\"&gt;Action&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/dge-text&gt;\n</code></pre>"},{"location":"documentation-text.html#exemples","title":"Exemples","text":"<p>Pour plus de d\u00e9tails, vous pouvez consulter la page de d\u00e9mo.</p>"},{"location":"examples-chart.html","title":"DGE Chart - Exemples","text":"<p>Les exemples pr\u00e9sent\u00e9s ci-dessous vous permettent de mieux appr\u00e9hender l'usage du composant DGE Chart. Parfois, ces exemples sont simplistes ou de peut de valeur scientifique. Ils sont l\u00e0 uniquement pour vous aider \u00e0 comprendre le fonctionnement du composant DGE Chart. N'h\u00e9sitez pas \u00e0 partager vos exemples et \u00e0 nous contacter pour compl\u00e9ter cette page.</p>"},{"location":"examples-chart.html#exemple-1-base","title":"Exemple 1: base","text":"<p>A partir d'un jeu de donn\u00e9es simple, on affiche un graphique en barres avec en abscisse (x) les diff\u00e9rents objets du tableau et en ordonn\u00e9es (y) le prix de chaque objet.</p> <p>Cet exemple monter aussi comment ajouter un titre, les attributions (mentions l\u00e9gales) et le nom de la s\u00e9rie.</p> <p>Exemple 1</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart id=\"dge-chart-1\" \n    title=\"Nombre d'habitants par ville\"\n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"\n    api=\"csv\"\n    url=\"data/villes.csv\" \n    x=\"ville\" \n    y=\"population\" \n    series=\"Nombre d'habitants\" \n    chart=\"bar\" /&gt;\n</code></pre> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre>"},{"location":"examples-chart.html#exemple-2-calcul-sur-les-ordonnees-y","title":"Exemple 2: calcul sur les ordonn\u00e9es (y)","text":"<p>Sur la base de l'exemple 1, on repr\u00e9sente ici en ordonn\u00e9es la densit\u00e9 par ville (densite = population / superficie).</p> <p>Exemple 2</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart\n    id=\"dge-chart-2\" \n    title=\"Densit\u00e9 par ville\"\n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"\n    api=\"csv\" \n    url=\"data/villes.csv\" \n    x=\"ville\" \n    y=\"population/superficie\" \n    series=\"densit\u00e9 de population\" \n    chart=\"bar\" /&gt; \n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre>"},{"location":"examples-chart.html#exemple-3-tri-sur-les-abscisses-x","title":"Exemple 3: tri sur les abscisses (x)","text":"<p>Sur la base de l'exemple 2, on ajoute cette fois un tri sur les abscisses via la propri\u00e9t\u00e9 <code>orderby=\"\"</code>.</p> <p>Exemple 3</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart\n    id=\"dge-chart-3\" \n    title=\"Classement des villes par nom (sens inverse)\"\n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"\n    api=\"csv\" \n    url=\"data/villes.csv\" \n    x=\"ville\" \n    y=\"population/superficie\" \n    orderby=\"ville,DESC\"\n    series=\"densit\u00e9 de population\" \n    chart=\"bar\" /&gt; \n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre>"},{"location":"examples-chart.html#exemple-4-tri-sur-les-ordonnees-y","title":"Exemple 4: tri sur les ordonn\u00e9es (y)","text":"<p>Sur la base de l'exemple 2, on ajoute cette fois un tri (propri\u00e9t\u00e9 <code>orderby=\"\"</code>) sur la colonne des ordonn\u00e9es (y). La colonne y \u00e9tant cacul\u00e9 on doit utiliser un alias (\"densite\") afin de nommer la colonne r\u00e9sultante. </p> <p>Exemple 4</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart\n    id=\"dge-chart-4\" \n    title=\"Classement des villes par densit\u00e9\"\n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"\n    api=\"csv\" \n    url=\"data/villes.csv\" \n    x=\"ville\" \n    y=\"population/superficie,densite\" \n    orderby=\"densite\"\n    series=\"densit\u00e9 de population\" \n    chart=\"bar\" /&gt; \n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre>"},{"location":"examples-chart.html#exemple-5-ajout-dun-filtre-select","title":"Exemple 5: ajout d'un filtre (select)","text":"<p>Sur la base de l'exemple 2, on ajoute cette fois, en plus du tri sur les ordonn\u00e9es, une liste de choix (propri\u00e9t\u00e9 <code>filter=\"\"</code>) pour filter par district.</p> <p>La propri\u00e9t\u00e9 <code>filter=\"\"</code> utilise 2 valeurs s\u00e9par\u00e9es par \"|\":</p> <ul> <li>Le nom du select</li> <li>la colonne utilis\u00e9e pour filtrer les valeurs</li> </ul> <p>Exemple 5</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart\n    id=\"dge-chart-5\" \n    title=\"Utilisation d'un filtre (liste)\"\n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"\n    api=\"csv\" \n    url=\"data/villes.csv\" \n    x=\"ville\" \n    y=\"population/superficie,densite\" \n    orderby=\"densite\"\n    series=\"densit\u00e9 de population\"\n    filter=\"S\u00e9lectionner un district|district\"\n    chart=\"bar\" /&gt; \n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre>"},{"location":"examples-chart.html#exemple-6-ajout-dun-champ-de-recherche","title":"Exemple 6: ajout d'un champ de recherche","text":"<p>Sur la base de l'exemple 2, on ajoute cette fois, en plus du tri sur les ordonn\u00e9es, un champ de recherche (propri\u00e9t\u00e9 <code>search=\"\"</code>) de choix pour filter par district ou ville.</p> <p>Exemple 6</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart\n    id=\"dge-chart-6\" \n    title=\"Utilisation d'un champ de recherche\"\n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"\n    api=\"csv\" \n    url=\"data/villes.csv\" \n    x=\"ville\" \n    y=\"population/superficie,densite\" \n    orderby=\"densite\"\n    series=\"densit\u00e9 de population\"\n    search=\"Filtrer par district ou ville|district,ville|D1\"\n    chart=\"bar\" /&gt; \n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre>"},{"location":"examples-chart.html#exemple-7-plusieurs-series-de-donnees","title":"Exemple 7: plusieurs s\u00e9ries de donn\u00e9es","text":"<p>Sur la base de l'exemple 5, on ajoute ici deux s\u00e9ries de donn\u00e9es: le nombre d'habitants et la superficie.  A noter qu'il faut aussi adapter les propri\u00e9t\u00e9s <code>s\u00e9ries=\"\"</code> et <code>chart=\"\"</code>.</p> <p>Exemple 7</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart\n    id=\"dge-chart-7\" \n    title=\"Graphique avec plusieurs s\u00e9ries de donn\u00e9es\"\n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"\n    api=\"csv\" \n    url=\"data/villes.csv\" \n    x=\"ville\" \n    y=\"population|superficie\" \n    orderby=\"densite\"\n    series=\"nombre d'habitants|superficie (km\u00b2)\"\n    filter=\"S\u00e9lectionnez un district|district|D2\"\n    chart=\"bar|line\" /&gt; \n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre>"},{"location":"examples-chart.html#exemple-8-jointures-entre-table","title":"Exemple 8: jointures entre table","text":"<p>Dans cet exemple, on utilise une jointure entre plusieurs jeux de donn\u00e9es pour calculer la valeur repr\u00e9sent\u00e9e en ordonn\u00e9e (y). </p> <p>A noter: l'ensemble des jeux de donn\u00e9es (propri\u00e9t\u00e9 <code>datasets=\"\"</code>) doivent provenir de la m\u00eame source (propri\u00e9t\u00e9 <code>url=\"\"</code>)</p> <p>Evolution: pouvoir utiliser des donn\u00e9es de sources diff\u00e9rentes (<code>url=\"https://...;url:https://...\"</code>). Comment traiter le cas si 2 URL pour 3 jeux de donn\u00e9es ?</p> <p>Exemple 8</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart \n    id=\"dge-chart-8\" \n    api=\"csv\" \n    url=\"data/\" \n    datasets=\"commandes.csv|objets.csv|contacts.csv\" \n    from=\"? AS commandes JOIN ? AS objets ON commandes.objet=objets.id JOIN ? AS contacts on commandes.contact=contacts.id\"\n    x=\"commandes.objet\" \n    y=\"objets.prix*commandes.quantite,cout\" \n    orderby=\"cout,DESC\" \n    series=\"Cout (qte x prix)\" \n    chart=\"bar\" \n    title=\"Utilisation de jointures: co\u00fbt par objet en cts (prix x qte)\" \n    filter=\"Couleur|objets.couleur\" /&gt; \n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <p>comandes.csv <pre><code>id;commande;quantite;objet;contact\n1;3;256;1;1\n2;1;212;2;2\n3;3;125;2;3\n4;1;287;3;2\n5;2;236;3;3\n6;3;175;3;1\n7;1;198;4;2\n8;2;168;4;3\n9;2;112;4;2\n10;2;452;3;2\n</code></pre></p> <p>objet.csv <pre><code>id;objet;prix;couleur\n1;stylo;4.1;rouge\n2;cahier;7.2;vert\n3;gomme;5.8;blanc\n4;crayon;6.4;rouge\n</code></pre></p> <p>contacts.csv <pre><code>id;nom\n1;Contact 1\n2;Contact 2\n3;Contact 3\n</code></pre></p>"},{"location":"examples-chart.html#exemple-9-regroupement-groupby","title":"Exemple 9: regroupement (groupby)","text":"<p>Dans cet exemple, on utilise la propri\u00e9t\u00e9 de regroupement <code>groupby=\"\"</code> pour calculer la somme des valeurs de la colonne val par type d'objet.</p> <p>Exemple 9</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart \n    id=\"dge-chart-5\"\n    api=\"csv\" \n    url=\"data/test2.csv\" \n    fields=\"val\" \n    x=\"type\" \n    y=\"SUM(val),somme\" \n    orderby=\"type,DESC\" \n    groupby=\"type\" \n    series=\"Somme par type\" \n    chart=\"bar\" \n    title=\"Regroupement de valeurs par 'group by'\"\n/&gt;\n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <p>test2.csv <pre><code>id;type;val;form\n1;A;5;R\n2;B;4;C\n3;B;2;R\n4;A;5;C\n5;C;8;C\n</code></pre></p>"},{"location":"examples-chart.html#exemple-10-filtre-avec-regroupement","title":"Exemple 10: filtre avec regroupement","text":"<p>Sur la base de l'exemple 9, on ajoute ici un filtre sur le champ \"form\".</p> <p>Exemple 10</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart \n    id=\"dge-chart-10\" \n    api=\"csv\" \n    url=\"data/test2.csv\" \n    fields=\"val\" \n    x=\"type\" \n    y=\"SUM(val),somme\" \n    orderby=\"type,DESC\" \n    groupby=\"type\" \n    series=\"Somme par type\" \n    chart=\"bar\" \n    title=\"Utilisation d'un filtre (liste) avec un regroupement\" \n    filter=\"Form|form\" \n/&gt;\n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <p>test2.csv <pre><code>id;type;val;form\n1;A;5;R\n2;B;4;C\n3;B;2;R\n4;A;5;C\n5;C;8;C\n</code></pre></p>"},{"location":"examples-chart.html#exemple-11-graphique-de-type-jauge-avec-etiquettes-et-texte-central","title":"Exemple 11: graphique de type jauge avec \u00e9tiquettes et texte central","text":"<p>On s'int\u00e9resse ici \u00e0 la pr\u00e9sentation d'un graphique de type \"jauge\" avec \u00e9tiquettes et texte central de mise en avant.</p> <p>Exemple 11</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart \n    id=\"dge-chart-gauge\" \n    api=\"csv\" \n    url=\"data/gauge.csv\" \n    fields=\"a,b\" \n    x=\"a\" \n    y=\"b\" \n    series=\"Oui/Non\" \n    chart=\"gauge\" \n    title=\"Total: %sum,0% votes\"\n    colors=\"rgba(2,150,2,0.5);rgba(20,90,186,0.5)\"\n    animation=\"duration:5000\"\n    gauge=\"circumference:270;rotation:-90\"\n    textcenter=\"label:OUI;color:rgba(120,180,60,1);baseLine:middle;align:center;fontSize:12;fontFamily:Arial;fontStyle:normal;fontWeight:normal;y:0;x:0|label:%percent,2,0%%;color:rgba(180,120,60,1);baseLine:middle;align:center;fontSize:15;fontWeight:bold;fontFamily:Arial;y:0\"\n    dldisplay=\"true\" dldisplaylimit=\"0\" dlcolor=\"#eee\" dlalign=\"center\" dlanchor=\"center\" dlformat=\"percent,2\" dlunit=\"%\"\n/&gt;\n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <p>gauge.csv <pre><code>id;a;b\n1;OUI;127\n2;NON;52\n</code></pre></p>"},{"location":"examples-chart.html#exemple-12-graphique-de-type-pyramide-des-ages","title":"Exemple 12: graphique de type pyramide des \u00e2ges","text":"<p>Repr\u00e9sentation de donn\u00e9es sous la forme de pyramide des \u00e2ges. Attention:</p> <ul> <li>Les donn\u00e9es de gauches doivent \u00eatre n\u00e9gatives, cependant la propri\u00e9t\u00e9 <code>xaxis=\"positiveSticks:true\"</code> permet d'afficher des valeurs positives dan els 2 sens sur l'axe des abscisses.</li> <li>La propri\u00e9t\u00e9 <code>orderby</code> permet de classer les cat\u00e9gories dans l'ordre croissant.</li> </ul> <p>Exemple 12</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-chart \n    id=\"dge-pyramid\" \n    api=\"csv\"\n    url=\"data/data1.csv\"\n    fields=\"age,nb1,nb2\"\n    x=\"age\" \n    y=\"nb1|nb2\" \n    orderby=\"age,DESC\"\n    series=\"nb1|nb2\"\n    chart=\"bar-hs\" \n    title=\"Graphique de type pyramide des \u00e2ges\"\n    xaxis=\"positiveSticks:true\"\n/&gt;\n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <p>data1.csv <pre><code>age;nb1;nb2\n20;200;-150\n30;300;-200\n10;100;-50\n40;250;-300\n50;150;-250\n60;50;-100\n</code></pre></p>"},{"location":"examples-figure.html","title":"DGE Figure - Exemples","text":"<p>Les exemples pr\u00e9sent\u00e9s ci-dessous vous permettent de mieux appr\u00e9hender l'usage du composant DGE Figure.  </p>"},{"location":"examples-figure.html#exemple-1-calcul-dun-indicateur-simple-avec-mise-en-forme-css","title":"Exemple 1: calcul d'un indicateur simple avec mise en forme CSS","text":"<p>Calcul et affichage de la somme des contenances des propri\u00e9t\u00e9s fonci\u00e8res de la R\u00e9gion Grand Est \u00e0 partir d'un flux WFS GeoServer. Cet exemple utilise un param\u00e9trage CSS sur la mise en forme de l'indicateur (couleur et bordure).</p> <p>Exemple 1</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-figure id=\"dge-figure-1\"\n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"\n    api=\"wfs\"\n    url=\"https://www.datagrandest.fr/geoserver/region-grand-est/wfs\"\n    fields=\"contenance\" \n    datasets=\"propriete_fonciere_region\" \n    max=\"200\" \n    iconname=\"bounding-box-circles\" \n    operation=\"sum|contenance\" \n    unit=\"m\u00b2\" \n    filter=\"\"\n    localcss=\"1\"\n    text=\"Contenance totale des propri\u00e9t\u00e9s fonci\u00e8res de la R\u00e9gion Grand Est\" /&gt;\n</code></pre> <p>Couche \"propriete_fonciere_region\" du flux WFS https://www.datagrandest.fr/geoserver/region-grand-est/wfs</p>"},{"location":"examples-figure.html#exemple-2-calcul-dun-indicateur-simple-avec-un-filtre-sur-les-donnees","title":"Exemple 2: calcul d'un indicateur simple avec un filtre sur les donn\u00e9es","text":"<p>Calcul et affichage du nombre d'habitants de la commune de Hegeney \u00e0 partir d'un flux WFS GeoServer. Cet exemple utilise un filtre sur le code INSEE de la commune \u00e0 afficher.</p> <p>Exemple 2</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-figure \n    id=\"dge-figure-2\"\n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\"\n    api=\"wfs\"\n    url=\"https://www.datagrandest.fr/geoserver/region-grand-est/wfs\"\n    fields=\"pmun_rp2019,insee_com\"\n    datasets=\"commune_actuelle\"\n    max=\"6000\"\n    icon=\"name:people-fill\"\n    operation=\"sum|pmun_rp2019\"\n    unit=\"hab.\"\n    where=\"insee_com=67186\"\n    text=\"Commune de Hegeney (2019)\" /&gt;\n</code></pre> <p>Couche \"commune_actuelle\" du flux WFS https://www.datagrandest.fr/geoserver/region-grand-est/wfs</p>"},{"location":"examples-figure.html#exemple-3-calcul-dun-indicateur-simple-avec-affichage-dune-image","title":"Exemple 3: calcul d'un indicateur simple avec affichage d'une image","text":"<p>Calcul et affichage de la contenance des proipri\u00e9t\u00e9s fonci\u00e8res de la R\u00e9gion Grand Est \u00e0 partir d'un flux WFS GeoServer. Cet exemple utilise une illustration sous forme d'image.</p> <p>Exemple 3</p> R\u00e9sultatHTMLData <p> </p> <pre><code>&lt;dge-figure \n    id=\"dge-figure-3\"\n    api=\"wfs\" \n    url=\"https://www.datagrandest.fr/geoserver/region-grand-est/wfs\"\n    fields=\"contenance\" \n    datasets=\"propriete_fonciere_region\" max=\"200\"\n    image=\"rounded:true;position:top;url:https://www.rue89strasbourg.com/wp-content/uploads/2020/11/33963593718-dcde964cd0-k.jpg\"\n    operation=\"count|contenance\" \n    datalink=\"icon:table;title:Lien vers les donn\u00e9es\"\n    attribution=\"icon:info-circle-fill;title:DataGrandEst;url:https://www.datagrandest.fr\" \n    unit=\"\"\n    localcss=\"1\" \n    text=\"Propri\u00e9t\u00e9s fonci\u00e8res &lt;br&gt; de la R\u00e9gion Grand Est\" /&gt;\n</code></pre> <p>Couche \"propriete_fonciere_region\" du flux WFS https://www.datagrandest.fr/geoserver/region-grand-est/wfs</p>"},{"location":"examples-image.html","title":"DGE Image - Exemples","text":"<p>Les exemples pr\u00e9sent\u00e9s ci-dessous vous permettent de mieux appr\u00e9hender l'usage du composant DGE Image.  </p>"},{"location":"examples-image.html#exemple-1-affichage-dune-image","title":"Exemple 1: affichage d'une image","text":"<p>Affichage d'une image simple.</p> <p>Exemple 1</p> R\u00e9sultatHTML <p> </p> <pre><code>&lt;dge-image \n    id=\"dge-image-1\" \n    src=\"https://viago.ca/wp-content/uploads/2017/09/Essentiels_Japon-768x432.jpg\" \n    legend=\"Essentiels Japon\" \n    title=\"Exemple d'image\"\n    attribution=\"text:Viago;url:https://viago.ca/top-10-des-activites-a-faire-au-japon/\" /&gt;\n</code></pre>"},{"location":"examples-map.html","title":"DGE Map - Exemples","text":"<p>Les exemples pr\u00e9sent\u00e9s ci-dessous vous permettent de mieux appr\u00e9hender l'usage du composant DGE Chart.  </p>"},{"location":"examples-map.html#exemple-1-affichage-dune-carte-a-partir-dun-geojson","title":"Exemple 1: affichage d'une carte \u00e0 partir d'un GeoJSON","text":"<p>Cet exemple montre notamment la d\u00e9tection automatique des URL et des images lors de l'affichage du popup d'interrogation d'un \u00e9l\u00e9ments (cf. Bas-Rhin).</p> <p>Exemple 1</p> R\u00e9sultatHTML <p> </p> <pre><code>&lt;dge-map \n    id=\"dge-map-1\" \n    height=\"50vh\" \n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\" \n    api=\"geojson\"\n    url=\"./data/departements.geojson\" \n    layersname=\"D\u00e9partements\" \n    center=\"48.6|7.6\" \n    zoom=\"8\" \n    fields=\"code,nom,site,logo\" \n    labels=\"CODE,NOM,SITE,LOGO\"\n    queryable=\"departements.geojson\"\n    osm=\"true\"\n    /&gt;\n</code></pre>"},{"location":"examples-map.html#exemple-2-affichage-dune-carte-a-partir-dun-flux-wms-geoserver","title":"Exemple 2: affichage d'une carte \u00e0 partir d'un flux WMS GeoServer","text":"<p>Cet exemple montre les principales fonctionnalit\u00e9s actuellement disponibles: ajout d'un titre et des sources \u00e0 la carte, d\u00e9finition du centre et du niveau de zoom initial, affichage de plusieurs couches, dont une interrogeable, configuration des champs \u00e0 afficher dans l'infobulle et de leur alias, application d'un filtre sur les donn\u00e9es r\u00e9cup\u00e9r\u00e9es (ici, les communes de l'EMS uniquement).</p> <p>Exemple 2</p> R\u00e9sultatHTML <p> </p> <pre><code>&lt;dge-map \n    id=\"dge-map-1\" \n    height=\"50vh\" \n    title=\"Communes de l'EMS\"\n    attribution=\"text:G\u00e9oGrandEst;url:https://www.datagrandest.fr|text:OpenStreetMap;url:https://www.openstreetmap.org/copyright\"\n    center=\"48.6|7.75\" \n    zoom=\"10\" \n    url=\"https://www.datagrandest.fr/geoserver/region-grand-est/ows?\"\n    api=\"wms\" \n    layers=\"commune_actuelle_3857,commune_actuelle_centroide\"\n    layersname=\"Communes (poly),Commmunes (point)\"\n    styles=\"\"\n    version=\"1.1.0\"\n    format=\"image/png\"\n    transparent=\"true\"\n    filters=\"id_epci='246700488'\"\n    queryable=\"commune_actuelle_3857\"\n    fields=\"insee_com,nom_com,id_epci,epci_nom_complet\" \n    labels=\"INSEE,COMMUNE,EPCI ID,EPCI\"\n    baselayer=\"https://osm.geograndest.fr/mapcache/?,relief\" \n    osm=\"true\" /&gt;\n</code></pre>"},{"location":"examples-map.html#exemple-3-modification-du-fond-de-carte-a-partir-dun-flux-wms","title":"Exemple 3: modification du fond de carte \u00e0 partir d'un flux WMS","text":"<p>Cet exemple montre, \u00e0 partir de l'exemple pr\u00e9c\u00e9dent l'utilisation des propri\u00e9t\u00e9s:</p> <ul> <li><code>osm</code> pour afficher le fonds OSM par d\u00e9faut</li> <li><code>baselayers</code> pour ajouter un fond de carte suppl\u00e9mentaire (couche \"relief\" du serveur OSM DataGrandEst)</li> <li><code>gesturehandling</code> pour forcer l'tilisation de la touche \"Ctrl\" pour zoomer</li> </ul> <p>A noter \u00e9galement que cete exemple utilise la propri\u00e9t\u00e9 gobale <code>data</code> au lieu des propri\u00e9t\u00e9s individuelles. Elle permet ici d'ajouter 2 layers de source diff\u00e9rente \u00e0 la carte.</p> <p>Exemple 3</p> R\u00e9sultatHTML <p> </p> <pre><code>&lt;dge-map id=\"dge-map-3\" height=\"50vh\" title=\"Communes de l'EMS\"\n    attribution=\"text:G\u00e9oGrandEst;url:https://www.datagrandest.fr|text:OpenStreetMap;url:https://www.openstreetmap.org/copyright\"\n    center=\"48.6|7.75\" \n    zoom=\"10\" \n    data=\"\n    url:https://www.datagrandest.fr/geoserver/region-grand-est/ows?;\n    api:wms;\n    layers:commune_actuelle_3857,commune_actuelle_centroide;\n    layersname:Communes (poly),Commmunes (point);\n    transparent:true;\n    filters:id_epci='246700488';\n    queryable:commune_actuelle_3857;\n    fields:insee_com,nom_com,id_epci,epci_nom_complet;\n    labels:INSEE,COMMUNE,EPCI ID,EPCI|\n    url:./data/departements.geojson;\n    layersname:D\u00e9partements;\n    api:geojson;\n    fields:code,nom,site,logo;\n    labels:CODE,NOM,SITE,LOGO;\n    queryable:departements.geojson\"\n    baselayers=\"url:https://osm.geograndest.fr/mapcache/?;layers:relief;layersname:OSM Relief DataGrandEst\"\n    osm=\"true\" \n    gesturehandling=\"true\" /&gt;\n</code></pre>"},{"location":"examples-table.html","title":"DGE Table - Exemples","text":"<p>Les exemples pr\u00e9sent\u00e9s ci-dessous vous permettent de mieux appr\u00e9hender l'usage du composant DGE Table.  </p>"},{"location":"examples-table.html#exemple-1-afficher-un-tableau-de-donnees","title":"Exemple 1: Afficher un tableau de donn\u00e9es","text":"<p>Affichage sous forme de tableau des donn\u00e9es d'un fichier CSV.</p> <p>Exemple 1</p> HTMLDataR\u00e9sultat <pre><code>&lt;dge-table \n    id=\"dge-table-1\" \n    api=\"csv\" \n    url=\"data/villes.csv\" \n    fields=\"id,district,ville,population,superficie\" \n    labels=\"ID|DISTRICT|VILLE|POPULATION (HAB)|SUPERFICIE (KM\u00b2)\" \n    filter=\"\"\n    title=\"Liste des villes du fichier data/ville.csv\" /&gt;\n</code></pre> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre> <p> </p>"},{"location":"examples-table.html#exemple-2-calcul-dune-valeur-de-colonne-a-partir-des-donnees-existantes","title":"Exemple 2: Calcul d'une valeur de colonne \u00e0 partir des donn\u00e9es existantes","text":"<p>Calcul de la densit\u00e9 de population \u00e0 partir du nombre d'habitants et de la superficie.</p> <p>Exemple 2</p> HTMLDataR\u00e9sultat <pre><code>&lt;dge-table \n    id=\"dge-table-2\" \n    api=\"csv\" \n    url=\"data/villes.csv\" \n    fields=\"id,district,ville,population,superficie\"\n    columns=\"id|district|ville|population|superficie|population/superficie,densite\"\n    labels=\"ID|DISTRICT|VILLE|POPULATION (HAB)|SUPERFICIE (KM\u00b2)|DENSITE\" \n    title=\"Cacul de la dentsit\u00e9 des villes\" /&gt;\n</code></pre> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre> <p> </p>"},{"location":"examples-table.html#exemple-3-filtrer-les-donnees-a-afficher","title":"Exemple 3: Filtrer les donn\u00e9es \u00e0 afficher","text":"<p>Affichage sous forme de tableau des donn\u00e9es d'un fichier CSV. La liste des villes est ici filtr\u00e9e sur le District \"D2\".</p> <p>Exemple 3</p> HTMLDataR\u00e9sultat <pre><code>&lt;dge-table \n    id=\"dge-table-3\" \n    api=\"csv\" \n    url=\"data/villes.csv\" \n    fields=\"id,district,ville,population,superficie\" \n    labels=\"ID|DISTRICT|VILLE|POPULATION (HAB)|SUPERFICIE (KM\u00b2)\" \n    where=\"district='D2'\"\n    title=\"Liste des villes du district D2\" /&gt;\n</code></pre> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre> <p> </p>"},{"location":"examples-table.html#exemple-4-utiliser-la-pagination","title":"Exemple 4: Utiliser la pagination","text":"<p>Affichage d'un tableau de donn\u00e9es pagin\u00e9es \u00e0 partir d'un fichier CSV.</p> <p>Exemple 4</p> HTMLDataR\u00e9sultat <pre><code>&lt;dge-table \n    id=\"dge-table-4\" \n    api=\"csv\" \n    url=\"data/villes.csv\" \n    fields=\"id,district,ville,population,superficie\" \n    labels=\"ID|DISTRICT|VILLE|POPULATION (HAB)|SUPERFICIE (KM\u00b2)\"\n    displaytotal=\"1\" \n    displaypagination=\"1\" \n    perpage=\"4\"\n    page=\"2\"\n    title=\"Liste des villes (pagination)\" /&gt;\n</code></pre> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre> <p> </p>"},{"location":"examples-table.html#exemple-5-ajout-dun-champ-de-recherche-full-text","title":"Exemple 5: Ajout d'un champ de recherche (full-text)","text":"<p>Ajout d'un champ de recherche. Ici on pr\u00e9cise les champs sur lesquels on limite le filtre (nom de la ville et district). Pour tester le filtre, remplcez \"D1\" par \"D2\" ou par \"ville C\" par exemple dans le champ de recherche.</p> <p>Exemple 5</p> HTMLDataR\u00e9sultat <pre><code>&lt;dge-table \n    id=\"dge-table-5\" \n    api=\"csv\" \n    url=\"data/villes.csv\" \n    fields=\"id,district,ville,population,superficie\" \n    labels=\"ID|DISTRICT|VILLE|POPULATION (HAB)|SUPERFICIE (KM\u00b2)\"\n    displaytotal=\"1\"\n    search=\"Filtrer par district ou ville|district,ville|D1\"\n    title=\"Liste des villes\" /&gt;\n</code></pre> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre> <p> </p>"},{"location":"examples-table.html#exemple-6-filtrer-dynamiquement-les-donnees-dun-tableau-liste-de-selection","title":"Exemple 6: Filtrer dynamiquement les donn\u00e9es d'un tableau (liste de s\u00e9lection)","text":"<p>Ajout d'une liste de s\u00e9lection pour filtrer les donn\u00e9es du tableau.</p> <p>Exemple 6</p> HTMLDataR\u00e9sultat <pre><code>&lt;dge-table \n    id=\"dge-table-6\" \n    api=\"csv\" \n    url=\"data/villes.csv\" \n    fields=\"id,district,ville,population,superficie\" \n    labels=\"ID|DISTRICT|VILLE|POPULATION (HAB)|SUPERFICIE (KM\u00b2)\"\n    displaytotal=\"1\"\n    select=\"Filtrer par district|district|D1\"\n    title=\"Liste des villes\" /&gt;\n</code></pre> <pre><code>id;district;ville;population;superficie\n1;D1;Ville A;10000;1000\n2;D1;Ville B;11000;800\n3;D2;Ville C;8500;750\n4;D2;Ville D;6800;680\n5;D2;Ville E;9200;870\n6;D3;Ville F;16000;1100\n</code></pre> <p> </p>"},{"location":"examples-table.html#exemple-7-afficher-des-donnees-provenant-de-plusieurs-sources-tables-liees","title":"Exemple 7: Afficher des donn\u00e9es provenant de plusieurs sources (tables li\u00e9es)","text":"<p>Le tableau ci-dessous combine des donn\u00e9es provenant de plusieurs fichiers CSV. La colonne \"COUT\" est calcul\u00e9 \u00e0 partir des donn\u00e9es du fichier commandes.csv et objets.csv. Les r\u00e9sultats sont tri\u00e9s selon le co\u00fbt d\u00e9croissant des commandes.</p> <p>Exemple </p> HTMLDataR\u00e9sultat <pre><code>&lt;dge-table \n    id=\"dge-table-7\" \n    api=\"csv\" \n    url=\"data/\" \n    datasets=\"commandes.csv|objets.csv|contacts.csv\" \n    fields=\"commandes.id,commandes.objet,commandes.quantite|objets.prix,objets.objet,objets.couleur,objets.id|contacts.nom\" \n    from=\"? AS commandes JOIN ? AS objets ON commandes.objet=objets.id JOIN ? AS contacts on commandes.contact=contacts.id\"\n    orderby=\"cout,DESC\" \n    columns=\"commandes.id|objets.objet|objets.couleur|commandes.quantite|objets.prix|commandes.quantite*objets.prix,cout|contacts.nom\"\n    labels=\"ID|OBJET|COULEUR|QUANTITE|PRIX|COUT|CONTACT\"\n    displaytotal=\"1\"\n    filter=\"Couleur|objets.couleur\"\n    title=\"Liste des commandes\" /&gt;\n</code></pre> <p>Seules les donn\u00e9es utiles du fichier sont repr\u00e9sent\u00e9es ici.</p> <p>comandes.csv <pre><code>id;commande;quantite;objet;contact\n1;3;256;1;1\n2;1;212;2;2\n3;3;125;2;3\n4;1;287;3;2\n5;2;236;3;3\n6;3;175;3;1\n7;1;198;4;2\n8;2;168;4;3\n9;2;112;4;2\n10;2;452;3;2\n</code></pre></p> <p>objet.csv <pre><code>id;objet;prix;couleur\n1;stylo;4.1;rouge\n2;cahier;7.2;vert\n3;gomme;5.8;blanc\n4;crayon;6.4;rouge\n</code></pre></p> <p>contacts.csv <pre><code>id;nom\n1;Contact 1\n2;Contact 2\n3;Contact 3\n</code></pre></p> <p> </p>"},{"location":"examples-text.html","title":"DGE Text - Exemples","text":"<p>Les exemples pr\u00e9sent\u00e9s ci-dessous vous permettent de mieux appr\u00e9hender l'usage du composant DGE Text.  </p>"},{"location":"examples-text.html#exemple-1-texte-simple","title":"Exemple 1: texte simple","text":"<p>Affichage d'un texte simple avec titre et source.</p> <p>Exemple 1</p> HTMLR\u00e9sultat <pre><code>&lt;dge-text \n    id=\"dge-text-1\" \n    text=\"Mon texte descriptif ici...\" \n    title=\"Exemple de texte\" \n    attribution=\"text:DataGrandEst;url:https://www.datagrandest.fr\" /&gt;\n</code></pre> <p> </p>"},{"location":"examples-text.html#exemple-2-texte-html","title":"Exemple 2: texte HTML","text":"<p>Affichage d'un texte mis en forme (HTML). Dans cet exemple, les attributs titre et source ne sont pas utilis\u00e9s. Nous utilisons ici un slot pour afficher le contenu du composant au format HTML.</p> <p>Exemple 2</p> HTMLR\u00e9sultat <pre><code>&lt;dge-text id=\"dge-text-2\"&gt;\n    &lt;div slot=\"text\"&gt;\n        &lt;h5&gt;Le titre de mon texte dans le &lt;em&gt;slot&lt;/em&gt;&lt;/h5&gt;\n        &lt;p class=\"m-0 p-0\"&gt;Le texte avec un &lt;em&gt;slot&lt;/em&gt; de mise en forme...&lt;br /&gt;\n            et la possibilit\u00e9 d'utiliser du &lt;em&gt;HTML&lt;/em&gt;, par exemple ajouter un bouton.\n        &lt;/p&gt;\n        &lt;button type=\"button\" class=\"btn btn-primary mt-3 float-right\"&gt;Action&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/dge-text&gt;\n</code></pre> <p> Le titre de mon texte dans le slot <p>Le texte avec un slot de mise en forme...                 et la possibilit\u00e9 d'utiliser du HTML, par exemple ajouter un bouton.             </p> Action </p>"},{"location":"versions.html","title":"Notes de version","text":"<p>Ci-dessous les notes relatives aux diff\u00e9rentes versions publi\u00e9es de DGE-DataViz-Components. Si certaines \u00e9volutions ne sont pas document\u00e9es, n'h\u00e9sitez pas \u00e0 me contacter.</p>"},{"location":"versions.html#v470-20230930","title":"v4.7.0 - 20230930","text":""},{"location":"versions.html#telechargements","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dge-all.js JS t\u00e9l\u00e9chargement dist_4.7.0.zip ZIP t\u00e9l\u00e9chargement dist_4.7.0.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions","title":"Evolutions","text":"<ul> <li><code>dge-figure</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>properties</code></li> </ul> </li> <li><code>dge-table</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>properties</code></li> </ul> </li> <li><code>dge-chart</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>properties</code></li> </ul> </li> <li><code>dist</code>:<ul> <li> Mise \u00e0 jour des diff\u00e9rentes biblioth\u00e8ques vers leurs derni\u00e8res versions dont notamment Bootstrap (v5.3.x), AlaSQL (v4.0.x), ChartJS (v4.4.x), Paparse (v5.4.x), Svelte JS (v4.2.x)</li> </ul> </li> <li><code>documentation</code>: <ul> <li> Description de la propri\u00e9t\u00e9 <code>properties</code></li> </ul> </li> </ul>"},{"location":"versions.html#v460-20230304","title":"v4.6.0 - 20230304","text":""},{"location":"versions.html#telechargements_1","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dge-all.js JS t\u00e9l\u00e9chargement dist_4.6.0.zip ZIP t\u00e9l\u00e9chargement dist_4.6.0.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_1","title":"Evolutions","text":"<ul> <li><code>dge-figure</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>Klass</code></li> </ul> </li> <li><code>dge-table</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>Klass</code></li> <li> Ajout des propri\u00e9t\u00e9 <code>positiveSticks</code>, <code>stacked</code>, <code>type</code>, <code>min</code>, <code>max</code> et <code>display</code> dans <code>xaxis</code></li> <li> Ajout des propri\u00e9t\u00e9 <code>positiveSticks</code>, <code>stacked</code>, <code>type</code>, <code>min</code>, <code>max</code> et <code>display</code> dans <code>yaxis</code></li> <li> Correction d'erreurs dans les propri\u00e9t\u00e9s <code>xaxis</code> et <code>yaxis</code></li> </ul> </li> <li><code>dge-chart</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>Klass</code></li> </ul> </li> <li><code>dge-text</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>Klass</code></li> </ul> </li> <li><code>dge-image</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>Klass</code></li> </ul> </li> <li><code>dist</code>:<ul> <li> Mise \u00e0 jour des diff\u00e9rentes biblioth\u00e8ques vers leurs derni\u00e8res versions dont notamment Bootstrap (v5.2.x), Bootstrap Icons (v1.10.x), AlaSQL (v3.1.x), ChartJS (v4.2.x)</li> </ul> </li> <li><code>documentation</code>: <ul> <li> Corrections mineures</li> <li> Description des nouvelles propri\u00e9t\u00e9s (dont <code>klass</code> et \u00e9volutions de <code>xaxis</code> et <code>yaxis</code>)</li> </ul> </li> </ul>"},{"location":"versions.html#v451-20220601","title":"v4.5.1 - 20220601","text":""},{"location":"versions.html#telechargements_2","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dge-all.js JS t\u00e9l\u00e9chargement dist_4.5.1.zip ZIP t\u00e9l\u00e9chargement dist_4.5.1.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_2","title":"Evolutions","text":"<ul> <li><code>dge-figure</code>: <ul> <li> Correction des propri\u00e9t\u00e9s <code>filter</code> et <code>search</code></li> </ul> </li> <li><code>dist</code>:<ul> <li> Mise \u00e0 jour des diff\u00e9rentes biblioth\u00e8ques vers leurs derni\u00e8res versions</li> </ul> </li> <li><code>documentation</code>: <ul> <li> Corrections mineures</li> <li> Organisation des propri\u00e9t\u00e9s par ordre alphab\u00e9tique</li> </ul> </li> </ul>"},{"location":"versions.html#v450-20220501","title":"v4.5.0 - 20220501","text":""},{"location":"versions.html#telechargements_3","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dge-all.js JS t\u00e9l\u00e9chargement dist_4.5.0.zip ZIP t\u00e9l\u00e9chargement dist_4.5.0.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_3","title":"Evolutions","text":"<ul> <li><code>dge-figure</code>: <ul> <li> Ajout du param\u00e8tre <code>value</code> afind e pouvoir afficher une valeur directement sans utiliser de donn\u00e9es externes. Il est ainsi possible d'ajouter la valeur via une varaible de la page (ex.: <code>value=\"'&lt;?php echo $value; ?&gt;'\"</code>)</li> </ul> </li> <li><code>dist</code>:<ul> <li> Mise \u00e0 jour des diff\u00e9rentes biblioth\u00e8ques vers leurs derni\u00e8res versions</li> </ul> </li> </ul>"},{"location":"versions.html#v440-20220303","title":"v4.4.0 - 20220303","text":""},{"location":"versions.html#telechargements_4","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dge-all.js JS t\u00e9l\u00e9chargement dist_4.4.0.zip ZIP t\u00e9l\u00e9chargement dist_4.4.0.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_4","title":"Evolutions","text":"<ul> <li><code>dge-figure</code>: <ul> <li> Ajout d'une fonction pour parser les donn\u00e9es et convertir les cha\u00efnes de caract\u00e8re en nombre quand c'est possible</li> </ul> </li> <li><code>dge-table</code>: <ul> <li> Correction de prise en compte du param\u00e8tre <code>page=</code></li> <li> Correction d'un probl\u00e8me de r\u00e9cup\u00e9ration des donn\u00e9es de l'API de D4C</li> <li> Ajout de la propri\u00e9t\u00e9 <code>parsehtml</code> qui permet d'interpr\u00e9ter les URL et balises HTML dans la table</li> </ul> </li> <li><code>dist</code>:<ul> <li> Mise \u00e0 jour de Bootstrap Icons vers la version 1.8.1</li> </ul> </li> </ul>"},{"location":"versions.html#v431-20220117","title":"v4.3.1 - 20220117","text":""},{"location":"versions.html#telechargements_5","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dge-all.js JS t\u00e9l\u00e9chargement dist_4.3.1.zip ZIP t\u00e9l\u00e9chargement dist_4.3.1.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_5","title":"Evolutions","text":"<ul> <li><code>dge-map</code>: <ul> <li> Ajout de \"https\" lors de l'appel du serveur OSM par d\u00e9faut</li> </ul> </li> <li><code>documentation</code>: <ul> <li> Corriger les exemples de <code>dge-map</code></li> </ul> </li> </ul>"},{"location":"versions.html#v430-20220111","title":"v4.3.0 - 20220111","text":""},{"location":"versions.html#telechargements_6","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dge-all.js JS t\u00e9l\u00e9chargement dist_4.3.0.zip ZIP t\u00e9l\u00e9chargement dist_4.3.0.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_6","title":"Evolutions","text":"<ul> <li><code>dge-figure</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>refresh</code> pour premetre une rechargement (mise \u00e0 jour) des donn\u00e9es \u00e0 interval r\u00e9gulier</li> </ul> </li> <li><code>dge-table</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>refresh</code> pour premetre une rechargement (mise \u00e0 jour) des donn\u00e9es \u00e0 interval r\u00e9gulier</li> </ul> </li> <li><code>dge-chart</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>refresh</code> pour premetre une rechargement (mise \u00e0 jour) des donn\u00e9es \u00e0 interval r\u00e9gulier</li> </ul> </li> <li><code>documentation</code>:<ul> <li> Mise \u00e0 jour vers la version 8.1.6 du template Material for MkDocs</li> <li> Ajout de la description des diff\u00e9rentes sources de donn\u00e9es (fichiers CSV, fichiers et API JSON, flux WFS et API Data4Citizen). Cf. documentation</li> <li> Ajout de la section \"CSS et mise en forme\". Cf. documentation</li> </ul> </li> </ul>"},{"location":"versions.html#v420-20211219","title":"v4.2.0 - 20211219","text":""},{"location":"versions.html#telechargements_7","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dge-all.js JS t\u00e9l\u00e9chargement dist_4.2.0.zip ZIP t\u00e9l\u00e9chargement dist_4.2.0.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_7","title":"Evolutions","text":"<ul> <li><code>dge-map</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>gesturehandling</code> qui n\u00e9cessite d'appuyer sur la touche \"contr\u00f4le\" pour pouvoir zoomer si elle est activ\u00e9e.</li> <li> Ajout de la propri\u00e9t\u00e9 <code>data</code> pour ajouter plusieurs couches WMS ou GeoJSON.</li> <li> Ajout de la propri\u00e9t\u00e9 <code>osm</code> pour afficher ou non le fond de carte OSM par d\u00e9faut.</li> <li> Ajout de la propri\u00e9t\u00e9 <code>baselayers</code> qui permet d'indiquer plusieurs fonds de carte. Si plusieurs fonds de carte, alors une s\u00e9lection dans le menu des layers est possible. La propri\u00e9t\u00e9 <code>baselayer</code> est conserv\u00e9e pour le moment et sera d\u00e9pr\u00e9ci\u00e9 dans une future version.</li> </ul> </li> <li><code>dge-table</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 g\u00e9n\u00e9rale <code>pagination</code> qui reprend les propri\u00e9t\u00e9s de pagination existantes en une seule propri\u00e9t\u00e9.</li> <li> Ajout de la propri\u00e9t\u00e9 <code>selectpages</code>.</li> </ul> </li> <li><code>dge-figure</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 g\u00e9n\u00e9rale <code>image</code>.</li> </ul> </li> <li><code>dge-chart</code>: <ul> <li> Modification des propri\u00e9t\u00e9 <code>download</code> sous forme d'objet pour pouvoir la g\u00e9rer plus facilement et utiliser des icons ou du texte pour le lien de t\u00e9l\u00e9chargement du graphique en image.</li> </ul> </li> <li><code>dge-helpers</code>: <ul> <li> Am\u00e9lioration de la fonction \"getJsonFromString()\" pour la gestion des propri\u00e9t\u00e9s de la forme <code>property=\"att1:value1;att2:value2\"</code>. D\u00e9sormais la valeur des attributs peut contenir le caract\u00e8re \":\" (utile pour les URL).</li> </ul> </li> <li><code>all</code>:<ul> <li> Modification des propri\u00e9t\u00e9 <code>attribution</code> et <code>datalink</code> sous forme d'objet pour pouvoir les g\u00e9rer plus facilement et utiliser des icons ou du texte.</li> </ul> </li> <li>Application - R\u00e9organisation et optimisation du code l'application pour faciliter le d\u00e9veloppement et la compilation:<ul> <li> Cr\u00e9ation de diff\u00e9rents fichiers de configuration \"rollup\" pour permettre la compilation du code individuellement par composant ou de fa\u00e7on globale.</li> <li> Ajout d'une version compil\u00e9e <code>dge-all.js</code> comprenant l'ensemble des composants (\u00e9vite la duplication de certaines biblioth\u00e8ques comme \"Paparse\" et \"Alasql\" par composant).</li> </ul> </li> <li>Documentation:<ul> <li> Ajout de la pr\u00e9sente page listant les versions.</li> <li> Documentation des priopri\u00e9t\u00e9s manquantes</li> <li> Am\u00e9lioration de la documentation dans son ensemble</li> </ul> </li> </ul>"},{"location":"versions.html#v414-20211201","title":"v4.1.4 - 20211201","text":""},{"location":"versions.html#telechargements_8","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dist_4.1.4.zip ZIP t\u00e9l\u00e9chargement dist_4.1.4.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_8","title":"Evolutions","text":"<ul> <li><code>dge-chart</code>: <ul> <li> Ajouter la capacit\u00e9 de t\u00e9l\u00e9charger le graphique sous forme d'image. Activ\u00e9 via la propri\u00e9t\u00e9 <code>download</code> qui permet \u00e9galement de pr\u00e9ciser le nom du lien \u00e0 afficher. Ex.: <code>download=\"T\u00e9l\u00e9charger\"</code>.</li> </ul> </li> </ul>"},{"location":"versions.html#v413-20211129","title":"v4.1.3 - 20211129","text":""},{"location":"versions.html#telechargements_9","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dist_4.1.3.zip ZIP t\u00e9l\u00e9chargement dist_4.1.3.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_9","title":"Evolutions","text":"<ul> <li><code>dge-chart</code>: <ul> <li> Ajout de graphique de type \"wordCloud\" via le pluin \"chartjs-chart-wordcloud\" (cf. https://github.com/sgratzl/chartjs-chart-wordcloud).</li> </ul> </li> </ul>"},{"location":"versions.html#v412-20211128","title":"v4.1.2 - 20211128","text":""},{"location":"versions.html#telechargements_10","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dist_4.1.2.zip ZIP t\u00e9l\u00e9chargement dist_4.1.2.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_10","title":"Evolutions","text":"<ul> <li><code>dge-chart</code>: <ul> <li> Ajout d'un type de graphique \"treemap\" via le pluin \"chartjs-chart-treemap\" (cf. https://chartjs-chart-treemap.pages.dev).</li> </ul> </li> </ul>"},{"location":"versions.html#v411-20211121","title":"v4.1.1 - 20211121","text":""},{"location":"versions.html#telechargements_11","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dist_4.1.1.zip ZIP t\u00e9l\u00e9chargement dist_4.1.1.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_11","title":"Evolutions","text":"<ul> <li><code>dge-chart</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>labels</code> qui permet de pr\u00e9ciser le nom des \u00e9tiquettes pour les valeurs des abscisses (x).</li> <li> Ajout de la propri\u00e9t\u00e9 <code>reverse</code> qui permet d'inverser les donn\u00e9es, c'est \u00e0 dire de transposer une s\u00e9rie en ligne, en colonne. Les en-t\u00eate de colonne deveniennent alors les valeurs d'abscisse (x). Il faut dans ce cas utiliser conjointement la prori\u00e9t\u00e9 <code>labels</code> pour d\u00e9finir le nom des \u00e9tiquettes en abscisse (par d\u00e9faut: elles sont du type <code>y0</code>, <code>y1</code>, etc.).</li> <li> Ajout des propri\u00e9t\u00e9s <code>width</code> et <code>height</code> pour d\u00e9finir la taille du graphique. Les dimensions sont calcul\u00e9es automatiquement de fa\u00e7on responsive \u00e0 partir du rapport entre la hauteur et la largeur. Par d\u00e9faut ces valeurs sont respectivement de 4 et 3 soit un rapport de 4/3.</li> <li> Am\u00e9lioration du calcul des \u00e9tiquettes quand <code>dlformat=\"percent\"</code>.</li> <li> Ajout du type <code>chart=\"bar-hs\"</code> pour un graphique horizontal \"stacked\".</li> </ul> </li> </ul>"},{"location":"versions.html#v410-20211121","title":"v4.1.0 - 20211121","text":""},{"location":"versions.html#telechargements_12","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dist_4.1.0.zip ZIP t\u00e9l\u00e9chargement dist_4.1.0.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_12","title":"Evolutions","text":"<ul> <li><code>dge-chart</code>: <ul> <li> Ajout de la propri\u00e9t\u00e9 <code>animation</code> (ex.: <code>animation=\"duration:5000\"</code>). Cf. https://www.chartjs.org/docs/latest/configuration/animations.html#animation</li> <li> Ajout d'un type <code>chart=\"gauge\"</code>. La configuration se fait via la propri\u00e9t\u00e9 <code>gauge=\"circumference:270;rotation:-135;cutout:75%;radius:98%;borderRadius:2;offset:15\"</code>.</li> <li> Ajout d'un propri\u00e9t\u00e9 pour affihcer un texte au centre du graphique (de type doughnut ou gauge de pr\u00e9f\u00e9rence). Le texte peut \u00eatre sur plusieurs lignes (s\u00e9parateur \"|\" dans la propri\u00e9t\u00e9). Des variables de donn\u00e9es peuvent \u00eatre utilis\u00e9es sous la forme \"%operation,decimal,[ligne],[colonne]%\". Une seule variable peut \u00eatre utilis\u00e9e par ligne de texte. Ex.: <code>textcenter=\"label:OUI;color:rgba(120,180,60,1);baseLine:middle;fontSize:12;fontFamily:Arial;fontStyle:normal;fontWeight:normal;y:40|label:%percent,2,0%%;color:rgba(180,120,60,1);baseLine:middle;fontSize:15;fontWeight:bold;fontFamily:Arial;y:50;x:20\"</code></li> </ul> </li> <li> Ajout des variables de donn\u00e9es dans le titre pour <code>dge-chart</code> et <code>dge-table</code>. Une seule variable peut \u00eatre indiqu\u00e9e dans le titre. La forme est \"%operation,decimal,[ligne],[colonne]%\".</li> </ul>"},{"location":"versions.html#v401-20211111","title":"v4.0.1 - 20211111","text":""},{"location":"versions.html#telechargements_13","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dist_4.0.1.zip ZIP t\u00e9l\u00e9chargement dist_4.0.1.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_13","title":"Evolutions","text":"<ul> <li> R\u00e9solution d'un probl\u00e8me de filtre quand il y a une apostropphe dans les valeurs d'une liste (propri\u00e9t\u00e9 <code>filter</code>): besoin d\u00e9chapper les caract\u00e8res dans la requ\u00eate SQL.</li> <li> Ajout des param\u00e8tres \"%filter%\" et \"%search%\" comme variable de la propri\u00e9t\u00e9 <code>text</code> (<code>dge-figure</code>) et <code>title</code> (<code>dge-table</code> et <code>dge-chart</code>) pour afficher directement les valeurs du filtre appliqu\u00e9</li> <li> Ajout de la possibilit\u00e9 de choisir une valeur par d\u00e9fault pour la propri\u00e9t\u00e9 <code>filter</code> parmis celles de la liste d\u00e9roulante sans indiquer de valeur globalisante.</li> </ul>"},{"location":"versions.html#v400-20210910","title":"v4.0.0 - 20210910","text":""},{"location":"versions.html#telechargements_14","title":"T\u00e9l\u00e9chargements","text":"Fichier Format T\u00e9l\u00e9chargement dge-figure.js JS t\u00e9l\u00e9chargement dge-table.js JS t\u00e9l\u00e9chargement dge-chart.js JS t\u00e9l\u00e9chargement dge-text.js JS t\u00e9l\u00e9chargement dge-image.js JS t\u00e9l\u00e9chargement dist_4.0.0.zip ZIP t\u00e9l\u00e9chargement dist_4.0.0.7z 7Z t\u00e9l\u00e9chargement"},{"location":"versions.html#evolutions_14","title":"Evolutions","text":"<ul> <li><code>dge-map</code>: <ul> <li> Ajout du param\u00e8tre param\u00e8tre <code>baselayer</code> pour pouvoir changer le fond de carte par d\u00e9faut (OSM) par un autre fonds WMS</li> <li> Modification du param\u00e8tre <code>attribution</code> afin de pouvoir ajouter plusieurs attribution. Il est d\u00e9sormais de la forme \"nom1,url1|nom2,url2\"</li> </ul> </li> </ul>"}]}